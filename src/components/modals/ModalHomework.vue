<template>
  <div>
    <v-dialog v-model="show" content-class="modal-homework" max-width="668">
      <div class="v-application v-application--is-ltr">
        <div class="modal-close" @click.stop="show = false"></div>
        <!-- Шапка попапа -->
        <v-row class="mb-5">
          <v-col cols="6">
            <div class="h2">Добавить домашнее задание</div>
          </v-col>
          <v-col cols="5">
            <small-select
                v-model="typeExercise"
                :items="[
                         { id: 'FE', title: 'Физическое упражнение' },
                         { id: 'VD', title: 'Видео задание' },
                         { id: 'TX', title: 'Текстовое задание' },
                         { id: 'IT', title: 'Интерактивное задание' },
                         { id: 'CR', title: 'Творческое задание' },
                         ]"
                label="Физическое упражнение"
                itemValue="id"
                text="title"
            />
          </v-col>
        </v-row>
        <!-- Физическое упражнение -->
        <div v-if="typeExercise === 'FE'">
          <v-row class="mb-2" style="margin-left: -24px;" v-if="activeExercises === null">
            <v-col cols="3">
              <small-select
                :items="[
                  { id: '1', title: 'Направление1' },
                  { id: '2', title: 'Направление2' },
                  { id: '3', title: 'Направление3' },
                  { id: '4', title: 'Направление4' },
                  { id: '5', title: 'Направление5' },
                ]"
                label="Направление"
                itemValue="id"
                text="title"
              />
            </v-col>
            <v-col cols="3">
              <small-select
                :items="[
                  { id: '1', title: 'Интенсивность1' },
                  { id: '2', title: 'Интенсивность2' },
                  { id: '3', title: 'Интенсивность3' },
                  { id: '4', title: 'Интенсивность4' },
                  { id: '5', title: 'Интенсивность5' },
                ]"
                label="Интенсивность"
                itemValue="id"
                text="title"
              />
            </v-col>
            <v-col cols="6">
              <div class="d-flex justify-space-between h-100">
                <button class="d-flex align-center h-100 text-middle pointer">
                  <svg
                    class="mr-2"
                    width="16"
                    height="15"
                    viewBox="0 0 16 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_1751_20071)">
                      <path
                        d="M2.78366 10.1359C0.886933 9.59059 -0.0626083 8.55879 0.00320141 7.11333C0.0443325 6.18964 0.358104 5.32353 1.16545 4.85934C1.88113 4.44803 2.72726 4.26588 3.50992 3.98383C3.50992 3.43855 3.3877 2.72522 3.53695 2.07418C3.80842 0.887249 4.94363 0.0293713 6.16111 0.0187948C9.13901 -0.00940943 12.1169 0.00351749 15.096 0.0105685C15.6612 0.0117437 16.0079 0.361946 16.0008 0.861395C15.9926 1.34322 15.6318 1.66639 15.0501 1.66756C12.2673 1.67344 9.48568 1.66757 6.70287 1.67579C6.41378 1.67697 6.10706 1.70047 5.84029 1.79801C5.30559 1.99309 5.0588 2.4326 5.06468 2.98846C5.07055 3.52904 5.46776 4.00734 6.00012 4.12721C6.24573 4.18244 6.50426 4.19419 6.75693 4.19419C9.38227 4.19889 12.0076 4.19654 14.6329 4.19772C14.7892 4.19772 14.9467 4.18949 15.103 4.20242C15.6906 4.25295 16.0079 4.57495 15.9832 5.08732C15.9597 5.56562 15.633 5.86764 15.0725 5.87822C14.2933 5.89349 13.513 5.88174 12.6939 5.88174C12.6939 6.72199 12.6939 7.51406 12.6939 8.39074C13.3344 8.39074 13.9725 8.38486 14.6118 8.39309C14.8645 8.39662 15.13 8.39074 15.3674 8.46243C15.7482 8.57759 16.0196 8.82555 15.9832 9.27565C15.9503 9.68813 15.7729 10.0031 15.3251 10.0407C14.8022 10.0853 14.2757 10.0959 13.7504 10.1112C13.419 10.1206 13.0864 10.1135 12.6904 10.1135C12.6904 10.6565 12.6904 11.1736 12.6904 11.8023C12.0241 11.4756 11.4212 11.2417 10.8865 10.9021C10.333 10.5495 9.86879 10.5801 9.32821 10.9138C8.81701 11.2288 8.25292 11.4591 7.63126 11.7658C7.63126 11.2041 7.63126 10.7105 7.63126 10.1711C6.7393 10.1711 5.90493 10.1171 5.08113 10.1911C4.58403 10.2358 4.21385 10.8574 4.2162 11.3816C4.21855 11.9022 4.65337 12.4592 5.17514 12.5638C5.44073 12.6167 5.72042 12.619 5.99306 12.619C8.89339 12.6225 11.7925 12.6202 14.6929 12.6225C14.9079 12.6225 15.1242 12.6272 15.3357 12.6602C15.7752 12.726 15.9738 13.0339 15.9938 13.4405C16.0138 13.8635 15.7811 14.1538 15.3721 14.2466C15.1089 14.3066 14.828 14.3054 14.5554 14.3054C11.6551 14.3089 8.7559 14.3101 5.85557 14.3066C3.3595 14.3066 2.05271 12.552 2.78366 10.1359ZM7.5678 5.9499C7.48671 5.92287 7.43265 5.89114 7.37977 5.89114C5.91315 5.88879 4.44654 5.86999 2.97992 5.89702C2.23133 5.91112 1.74716 6.40705 1.70838 7.08747C1.67195 7.73264 2.09736 8.33668 2.74371 8.35548C4.33959 8.40014 5.93783 8.37076 7.56662 8.37076C7.5678 7.53286 7.5678 6.74197 7.5678 5.9499Z"
                        fill="#95B0DA"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_1751_20071">
                        <rect width="16" height="14.3101" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <span>Библиотека упражнений</span>
                </button>
                <button>
                  <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M3.9026 15.976C3.13846 15.9878 2.76227 15.4823 2.91509 14.8122C3.23251 13.4368 3.54992 12.0732 3.87909 10.6978C3.97314 10.3216 3.92611 10.063 3.59695 9.7926C2.5389 8.92269 1.52788 7.99401 0.481595 7.10059C0.128914 6.8067 -0.117963 6.45404 0.0583775 5.98382C0.234718 5.5136 0.646179 5.41955 1.10466 5.38429C2.51539 5.27849 3.91436 5.17269 5.31333 5.01986C5.50142 4.99635 5.73654 4.773 5.81884 4.58491C6.37137 3.33883 6.90039 2.06923 7.42941 0.811391C7.61751 0.376437 7.84088 -0.0114951 8.38165 0.000260445C8.88716 0.012016 9.11053 0.376437 9.28687 0.799635C9.81589 2.05748 10.3567 3.31531 10.8739 4.58491C11.015 4.92582 11.2031 5.04338 11.5675 5.06689C12.9783 5.16093 14.3772 5.29024 15.788 5.4078C16.2112 5.44306 16.6226 5.60764 16.6697 6.04259C16.7049 6.35999 16.5639 6.8067 16.3405 7.0183C15.2942 7.99401 14.2126 8.9227 13.1076 9.83962C12.8137 10.0865 12.7667 10.2981 12.8489 10.639C13.1781 12.0026 13.4838 13.378 13.8247 14.7534C13.9305 15.1766 13.8835 15.541 13.5308 15.8114C13.1546 16.1053 12.7667 16.023 12.3905 15.7879C11.1913 15.0591 9.96872 14.342 8.78136 13.5896C8.48746 13.4133 8.28761 13.4015 7.9937 13.5896C6.8181 14.3067 5.6425 15.0003 4.46689 15.7056C4.25528 15.8349 4.00841 15.9172 3.9026 15.976Z"
                      fill="#95B0DA"
                    />
                  </svg>
                </button>
              </div>
            </v-col>
          </v-row>
          <v-row class="mb-3" v-if="activeExercises === null">
            <v-col cols="12">
              <v-text-field
                class="modal-create__input modal-create__input--small"
                height="auto"
                flat
                hide-details
                v-model="exerciseSearch"
                placeholder="Введите название упражнения ..."
              >
              </v-text-field>
            </v-col>
          </v-row>
          <v-row class="mb-2">
            <v-col cols="12">
              <div class="library">
                <div class="library__select" v-if="!libraryList && !exerciseSearch.length" @click="libraryList = true">
                  <svg
                    class="ico"
                    width="108"
                    height="96"
                    viewBox="0 0 108 96"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M18.678 68.0009C5.9512 64.3422 -0.420093 57.4189 0.021481 47.72C0.297465 41.5222 2.40283 35.7108 7.82 32.5961C12.6221 29.8362 18.2995 28.614 23.5511 26.7216C23.5511 23.0628 22.731 18.2765 23.7325 13.908C25.5539 5.9439 33.1711 0.187658 41.3402 0.116691C61.3215 -0.0725554 81.3027 0.0141825 101.292 0.0614941C105.085 0.0693793 107.411 2.41919 107.364 5.77042C107.308 9.00338 104.888 11.1718 100.984 11.1797C82.312 11.2191 63.6476 11.1797 44.9753 11.2349C43.0356 11.2428 40.9775 11.4005 39.1876 12.055C35.5998 13.3639 33.9439 16.313 33.9833 20.0427C34.0227 23.67 36.6879 26.8793 40.26 27.6836C41.908 28.0542 43.6427 28.133 45.3381 28.133C62.9537 28.1646 80.5694 28.1488 98.1851 28.1567C99.2338 28.1567 100.29 28.1015 101.339 28.1882C105.282 28.5273 107.411 30.6879 107.245 34.1258C107.088 37.3351 104.895 39.3616 101.134 39.4326C95.9062 39.5351 90.6704 39.4563 85.1744 39.4563C85.1744 45.0942 85.1744 50.4089 85.1744 56.2913C89.4719 56.2913 93.7536 56.2519 98.0431 56.3071C99.7385 56.3307 101.521 56.2913 103.113 56.7723C105.668 57.5451 107.49 59.2089 107.245 62.2289C107.024 64.9966 105.834 67.1099 102.829 67.3622C99.3205 67.6618 95.788 67.7328 92.2632 67.8353C90.0396 67.8984 87.8081 67.8511 85.1507 67.8511C85.1507 71.4941 85.1507 74.9636 85.1507 79.1822C80.6798 76.9901 76.6347 75.4209 73.0469 73.1421C69.3329 70.7765 66.2182 70.9816 62.591 73.221C59.1609 75.3342 55.376 76.8797 51.2047 78.9378C51.2047 75.1686 51.2047 71.8568 51.2047 68.2375C45.2198 68.2375 39.6213 67.8748 34.0937 68.3715C30.7582 68.6712 28.2744 72.8425 28.2901 76.3593C28.3059 79.8525 31.2235 83.5901 34.7245 84.2919C36.5066 84.6467 38.3833 84.6625 40.2126 84.6625C59.6735 84.6861 79.1264 84.6704 98.5872 84.6861C100.03 84.6861 101.481 84.7177 102.9 84.9385C105.85 85.38 107.182 87.446 107.316 90.1743C107.45 93.013 105.889 94.9606 103.145 95.5836C101.379 95.9857 99.494 95.9778 97.6646 95.9778C78.2038 96.0015 58.7509 96.0094 39.2901 95.9857C22.5418 95.9857 13.7734 84.213 18.678 68.0009ZM50.7789 39.9136C50.2348 39.7323 49.8721 39.5194 49.5173 39.5194C39.6764 39.5036 29.8356 39.3774 19.9948 39.5588C14.9719 39.6534 11.7232 42.981 11.463 47.5466C11.2185 51.8756 14.073 55.9286 18.4099 56.0547C29.1181 56.3544 39.842 56.1573 50.771 56.1573C50.7789 50.5351 50.7789 45.2283 50.7789 39.9136Z"
                      fill="#ECF6FF"
                    />
                  </svg>
                  <span class="text">Выбрать из библиотеки упражнений</span>
                </div>
                <div class="library__list" v-if="libraryList || exerciseSearch.length">
                  <div
                    class="library__item"
                    :class="{ library__item_active: activeExercises === index }"
                    @click="activeExercises = index"
                    v-show="activeExercises === null"
                    v-for="(exercise, index) in exercisesFilter"
                    :key="index"
                  >
                    <div
                      class="library__media"
                      :style="`background-image: url(https://source.unsplash.com/560x560/?sport)`"
                    ></div>
                    <div class="library__main">
                      <div class="library__header">
                        <div class="library__title title">
                          <span class="title__text">{{ exercise.title }}</span>
                        </div>
                        <div class="library__time time">
                          <span class="time__value">{{ exercise.time }}</span>
                          <span class="time__dimension">мин</span>
                        </div>
                      </div>
                      <div class="library__content">
                        <p>
                          {{ exercise.description }}
                        </p>
                      </div>
                      <div class="library__footer">
                        <div class="library__data data">
                          <div class="data__list">
                            <div class="data__item">
                              <svg
                                class="data__ico"
                                v-if="exercise.level === 1"
                                width="16"
                                height="11"
                                viewBox="0 0 16 11"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M16.0004 5.41297C16.0004 6.75587 16.0004 8.09615 16.0004 9.43906C16.0004 9.86134 15.767 10.1813 15.3866 10.281C15.2896 10.3046 15.1873 10.3125 15.0876 10.3125C14.0962 10.3151 13.1048 10.3151 12.1107 10.3125C11.531 10.3125 11.1979 9.97937 11.1979 9.40234C11.1979 7.33028 11.1979 5.25822 11.1953 3.18616C11.1953 2.80585 11.3474 2.5252 11.6779 2.33636C12.6903 1.75933 13.7028 1.17967 14.7152 0.602645C15.0745 0.398062 15.4129 0.421668 15.7119 0.67084C15.9191 0.846571 15.9951 1.08263 15.9951 1.34754C16.0004 2.70356 16.0004 4.05695 16.0004 5.41297Z"
                                  fill="#DCE5F2"
                                />
                                <path
                                  d="M10.3784 7.01302C10.3784 7.82086 10.381 8.63132 10.3784 9.43917C10.3784 9.86407 10.1476 10.1814 9.76463 10.2785C9.66758 10.3021 9.56529 10.31 9.46562 10.31C8.4873 10.3126 7.50897 10.3126 6.52802 10.31C5.94837 10.31 5.61789 9.97685 5.61789 9.3972C5.61789 8.3874 5.62051 7.3776 5.61527 6.3678C5.61264 5.97961 5.77788 5.70421 6.11361 5.51274C7.10243 4.95407 8.086 4.38754 9.07219 3.82362C9.51283 3.57183 9.95085 3.65051 10.2315 4.0387C10.3443 4.19869 10.3758 4.38229 10.3758 4.57376C10.3784 5.38685 10.3784 6.19993 10.3784 7.01302Z"
                                  fill="#DCE5F2"
                                />
                                <path
                                  d="M2.39795 10.3098C1.89174 10.3098 1.38552 10.3124 0.876689 10.3098C0.352118 10.3072 -0.0177056 9.95046 0.000654405 9.45999C0.0111458 9.14787 0.17114 8.91706 0.441295 8.76231C0.950129 8.47117 1.45634 8.18004 1.96518 7.8889C2.4845 7.59252 3.00383 7.29351 3.52315 6.99975C3.88249 6.79779 4.21559 6.82402 4.50935 7.06532C4.71656 7.23581 4.79786 7.46662 4.79786 7.72628C4.80049 8.30331 4.80573 8.88034 4.79786 9.45737C4.79 9.97669 4.44902 10.3019 3.91921 10.3098C3.91134 10.3098 3.90085 10.3098 3.89298 10.3098C3.39463 10.3098 2.89629 10.3098 2.39795 10.3098Z"
                                  fill="#64C048"
                                />
                              </svg>
                              <svg
                                class="data__ico"
                                v-if="exercise.level === 2"
                                width="16"
                                height="11"
                                viewBox="0 0 16 11"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M16.0004 5.41297C16.0004 6.75587 16.0004 8.09615 16.0004 9.43906C16.0004 9.86134 15.767 10.1813 15.3866 10.281C15.2896 10.3046 15.1873 10.3125 15.0876 10.3125C14.0962 10.3151 13.1048 10.3151 12.1107 10.3125C11.531 10.3125 11.1979 9.97937 11.1979 9.40234C11.1979 7.33028 11.1979 5.25822 11.1953 3.18616C11.1953 2.80585 11.3474 2.5252 11.6779 2.33636C12.6903 1.75933 13.7028 1.17967 14.7152 0.602645C15.0745 0.398062 15.4129 0.421668 15.7119 0.67084C15.9191 0.846571 15.9951 1.08263 15.9951 1.34754C16.0004 2.70356 16.0004 4.05695 16.0004 5.41297Z"
                                  fill="#DCE5F2"
                                />
                                <path
                                  d="M10.3784 7.01302C10.3784 7.82086 10.381 8.63132 10.3784 9.43917C10.3784 9.86407 10.1476 10.1814 9.76463 10.2785C9.66758 10.3021 9.56529 10.31 9.46562 10.31C8.4873 10.3126 7.50897 10.3126 6.52802 10.31C5.94837 10.31 5.61789 9.97685 5.61789 9.3972C5.61789 8.3874 5.62051 7.3776 5.61527 6.3678C5.61264 5.97961 5.77788 5.70421 6.11361 5.51274C7.10243 4.95407 8.086 4.38754 9.07219 3.82362C9.51283 3.57183 9.95085 3.65051 10.2315 4.0387C10.3443 4.19869 10.3758 4.38229 10.3758 4.57376C10.3784 5.38685 10.3784 6.19993 10.3784 7.01302Z"
                                  fill="#64C048"
                                />
                                <path
                                  d="M2.39795 10.3098C1.89174 10.3098 1.38552 10.3124 0.876689 10.3098C0.352118 10.3072 -0.0177056 9.95046 0.000654405 9.45999C0.0111458 9.14787 0.17114 8.91706 0.441295 8.76231C0.950129 8.47117 1.45634 8.18004 1.96518 7.8889C2.4845 7.59252 3.00383 7.29351 3.52315 6.99975C3.88249 6.79779 4.21559 6.82402 4.50935 7.06532C4.71656 7.23581 4.79786 7.46662 4.79786 7.72628C4.80049 8.30331 4.80573 8.88034 4.79786 9.45737C4.79 9.97669 4.44902 10.3019 3.91921 10.3098C3.91134 10.3098 3.90085 10.3098 3.89298 10.3098C3.39463 10.3098 2.89629 10.3098 2.39795 10.3098Z"
                                  fill="#64C048"
                                />
                              </svg>
                              <svg
                                class="data__ico"
                                v-if="exercise.level === 3"
                                width="16"
                                height="11"
                                viewBox="0 0 16 11"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M16.0004 5.41297C16.0004 6.75587 16.0004 8.09615 16.0004 9.43906C16.0004 9.86134 15.767 10.1813 15.3866 10.281C15.2896 10.3046 15.1873 10.3125 15.0876 10.3125C14.0962 10.3151 13.1048 10.3151 12.1107 10.3125C11.531 10.3125 11.1979 9.97937 11.1979 9.40234C11.1979 7.33028 11.1979 5.25822 11.1953 3.18616C11.1953 2.80585 11.3474 2.5252 11.6779 2.33636C12.6903 1.75933 13.7028 1.17967 14.7152 0.602645C15.0745 0.398062 15.4129 0.421668 15.7119 0.67084C15.9191 0.846571 15.9951 1.08263 15.9951 1.34754C16.0004 2.70356 16.0004 4.05695 16.0004 5.41297Z"
                                  fill="#64C048"
                                />
                                <path
                                  d="M10.3784 7.01302C10.3784 7.82086 10.381 8.63132 10.3784 9.43917C10.3784 9.86407 10.1476 10.1814 9.76463 10.2785C9.66758 10.3021 9.56529 10.31 9.46562 10.31C8.4873 10.3126 7.50897 10.3126 6.52802 10.31C5.94837 10.31 5.61789 9.97685 5.61789 9.3972C5.61789 8.3874 5.62051 7.3776 5.61527 6.3678C5.61264 5.97961 5.77788 5.70421 6.11361 5.51274C7.10243 4.95407 8.086 4.38754 9.07219 3.82362C9.51283 3.57183 9.95085 3.65051 10.2315 4.0387C10.3443 4.19869 10.3758 4.38229 10.3758 4.57376C10.3784 5.38685 10.3784 6.19993 10.3784 7.01302Z"
                                  fill="#64C048"
                                />
                                <path
                                  d="M2.39795 10.3098C1.89174 10.3098 1.38552 10.3124 0.876689 10.3098C0.352118 10.3072 -0.0177056 9.95046 0.000654405 9.45999C0.0111458 9.14787 0.17114 8.91706 0.441295 8.76231C0.950129 8.47117 1.45634 8.18004 1.96518 7.8889C2.4845 7.59252 3.00383 7.29351 3.52315 6.99975C3.88249 6.79779 4.21559 6.82402 4.50935 7.06532C4.71656 7.23581 4.79786 7.46662 4.79786 7.72628C4.80049 8.30331 4.80573 8.88034 4.79786 9.45737C4.79 9.97669 4.44902 10.3019 3.91921 10.3098C3.91134 10.3098 3.90085 10.3098 3.89298 10.3098C3.39463 10.3098 2.89629 10.3098 2.39795 10.3098Z"
                                  fill="#64C048"
                                />
                              </svg>
                              <span class="data__text">{{ levels(exercise.level) }}</span>
                            </div>
                            <div class="data__item">
                              <svg
                                class="data__ico"
                                width="16"
                                height="16"
                                viewBox="0 0 16 16"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <rect width="16" height="16" rx="4" fill="#95B0DA" />
                              </svg>
                              <span class="data__text">Техника</span>
                            </div>
                          </div>
                        </div>

                        <div class="library__favorite favorite">
                          <svg
                            class="favorite__ico"
                            width="17"
                            height="16"
                            viewBox="0 0 17 16"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M3.90261 15.9767C3.13847 15.9885 2.76227 15.483 2.9151 14.8129C3.23251 13.4374 3.54993 12.0737 3.8791 10.6983C3.97315 10.3221 3.92612 10.0634 3.59695 9.79306C2.53891 8.92311 1.52789 7.99438 0.481596 7.10092C0.128914 6.80702 -0.117963 6.45434 0.0583776 5.98409C0.234719 5.51385 0.646181 5.4198 1.10467 5.38454C2.51539 5.27873 3.91437 5.17293 5.31334 5.0201C5.50143 4.99659 5.73655 4.77322 5.81885 4.58512C6.37138 3.33898 6.9004 2.06933 7.42943 0.811429C7.61752 0.376454 7.84089 -0.0114956 8.38167 0.000260458C8.88718 0.0120165 9.11054 0.376454 9.28689 0.799672C9.81591 2.05757 10.3567 3.31547 10.874 4.58512C11.015 4.92605 11.2031 5.04361 11.5676 5.06712C12.9783 5.16117 14.3773 5.29049 15.788 5.40805C16.2112 5.44332 16.6227 5.6079 16.6697 6.04287C16.705 6.36029 16.5639 6.80702 16.3405 7.01863C15.2942 7.99438 14.2127 8.92311 13.1076 9.84008C12.8137 10.087 12.7667 10.2986 12.849 10.6395C13.1781 12.0032 13.4838 13.3787 13.8247 14.7541C13.9305 15.1773 13.8835 15.5418 13.5308 15.8122C13.1546 16.1061 12.7667 16.0238 12.3905 15.7886C11.1914 15.0598 9.96874 14.3427 8.78137 13.5903C8.48747 13.4139 8.28762 13.4022 7.99372 13.5903C6.81811 14.3074 5.64251 15.001 4.4669 15.7064C4.25529 15.8357 4.00841 15.918 3.90261 15.9767Z"
                              fill="#95B0DA"
                            />
                          </svg>
                          <span class="favorite__text">Добавить в избранное</span>
                        </div>
                      </div>
                    </div>
                    <div class="library__action">
                      <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M7.45318 6.30769L11.9763 10.8309C12.2887 11.1432 12.2887 11.6522 11.9763 11.9645C11.664 12.2769 11.155 12.2769 10.8427 11.9645L6.33106 7.45295L1.80211 11.9819C1.48977 12.2942 0.980764 12.2942 0.668422 11.9819L0.662638 11.9761C0.350297 11.6638 0.350296 11.1548 0.662638 10.8424L5.17424 6.33083L0.645286 1.80188C0.332944 1.48953 0.332944 0.980532 0.645286 0.668191L0.65107 0.662407C0.963411 0.350065 1.47241 0.350065 1.78475 0.662406L6.29636 5.17401L10.8253 0.645054C11.1377 0.332712 11.6467 0.332712 11.959 0.645054L11.9706 0.656622C12.2829 0.968964 12.2829 1.47796 11.9706 1.79031L7.45318 6.30769Z"
                          fill="#B9CBE5"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="library__item library__item_active" v-if="activeExercises !== null">
                    <div
                      class="library__media"
                      :style="`background-image: url(https://source.unsplash.com/560x560/?sport)`"
                    ></div>
                    <div class="library__main">
                      <div class="library__header">
                        <div class="library__title title">
                          <span class="title__text">{{ exercises[activeExercises].title }}</span>
                        </div>
                        <div class="library__time time">
                          <span class="time__value">{{ exercises[activeExercises].time }}</span>
                          <span class="time__dimension">мин</span>
                        </div>
                      </div>
                      <div class="library__content">
                        <p>
                          {{ exercises[activeExercises].description }}
                        </p>
                      </div>
                      <div class="library__footer">
                        <div class="library__data data">
                          <div class="data__list">
                            <div class="data__item">
                              <svg
                                class="data__ico"
                                v-if="exercises[activeExercises].level === 1"
                                width="16"
                                height="11"
                                viewBox="0 0 16 11"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M16.0004 5.41297C16.0004 6.75587 16.0004 8.09615 16.0004 9.43906C16.0004 9.86134 15.767 10.1813 15.3866 10.281C15.2896 10.3046 15.1873 10.3125 15.0876 10.3125C14.0962 10.3151 13.1048 10.3151 12.1107 10.3125C11.531 10.3125 11.1979 9.97937 11.1979 9.40234C11.1979 7.33028 11.1979 5.25822 11.1953 3.18616C11.1953 2.80585 11.3474 2.5252 11.6779 2.33636C12.6903 1.75933 13.7028 1.17967 14.7152 0.602645C15.0745 0.398062 15.4129 0.421668 15.7119 0.67084C15.9191 0.846571 15.9951 1.08263 15.9951 1.34754C16.0004 2.70356 16.0004 4.05695 16.0004 5.41297Z"
                                  fill="#DCE5F2"
                                />
                                <path
                                  d="M10.3784 7.01302C10.3784 7.82086 10.381 8.63132 10.3784 9.43917C10.3784 9.86407 10.1476 10.1814 9.76463 10.2785C9.66758 10.3021 9.56529 10.31 9.46562 10.31C8.4873 10.3126 7.50897 10.3126 6.52802 10.31C5.94837 10.31 5.61789 9.97685 5.61789 9.3972C5.61789 8.3874 5.62051 7.3776 5.61527 6.3678C5.61264 5.97961 5.77788 5.70421 6.11361 5.51274C7.10243 4.95407 8.086 4.38754 9.07219 3.82362C9.51283 3.57183 9.95085 3.65051 10.2315 4.0387C10.3443 4.19869 10.3758 4.38229 10.3758 4.57376C10.3784 5.38685 10.3784 6.19993 10.3784 7.01302Z"
                                  fill="#DCE5F2"
                                />
                                <path
                                  d="M2.39795 10.3098C1.89174 10.3098 1.38552 10.3124 0.876689 10.3098C0.352118 10.3072 -0.0177056 9.95046 0.000654405 9.45999C0.0111458 9.14787 0.17114 8.91706 0.441295 8.76231C0.950129 8.47117 1.45634 8.18004 1.96518 7.8889C2.4845 7.59252 3.00383 7.29351 3.52315 6.99975C3.88249 6.79779 4.21559 6.82402 4.50935 7.06532C4.71656 7.23581 4.79786 7.46662 4.79786 7.72628C4.80049 8.30331 4.80573 8.88034 4.79786 9.45737C4.79 9.97669 4.44902 10.3019 3.91921 10.3098C3.91134 10.3098 3.90085 10.3098 3.89298 10.3098C3.39463 10.3098 2.89629 10.3098 2.39795 10.3098Z"
                                  fill="#64C048"
                                />
                              </svg>
                              <svg
                                class="data__ico"
                                v-if="exercises[activeExercises].level === 2"
                                width="16"
                                height="11"
                                viewBox="0 0 16 11"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M16.0004 5.41297C16.0004 6.75587 16.0004 8.09615 16.0004 9.43906C16.0004 9.86134 15.767 10.1813 15.3866 10.281C15.2896 10.3046 15.1873 10.3125 15.0876 10.3125C14.0962 10.3151 13.1048 10.3151 12.1107 10.3125C11.531 10.3125 11.1979 9.97937 11.1979 9.40234C11.1979 7.33028 11.1979 5.25822 11.1953 3.18616C11.1953 2.80585 11.3474 2.5252 11.6779 2.33636C12.6903 1.75933 13.7028 1.17967 14.7152 0.602645C15.0745 0.398062 15.4129 0.421668 15.7119 0.67084C15.9191 0.846571 15.9951 1.08263 15.9951 1.34754C16.0004 2.70356 16.0004 4.05695 16.0004 5.41297Z"
                                  fill="#DCE5F2"
                                />
                                <path
                                  d="M10.3784 7.01302C10.3784 7.82086 10.381 8.63132 10.3784 9.43917C10.3784 9.86407 10.1476 10.1814 9.76463 10.2785C9.66758 10.3021 9.56529 10.31 9.46562 10.31C8.4873 10.3126 7.50897 10.3126 6.52802 10.31C5.94837 10.31 5.61789 9.97685 5.61789 9.3972C5.61789 8.3874 5.62051 7.3776 5.61527 6.3678C5.61264 5.97961 5.77788 5.70421 6.11361 5.51274C7.10243 4.95407 8.086 4.38754 9.07219 3.82362C9.51283 3.57183 9.95085 3.65051 10.2315 4.0387C10.3443 4.19869 10.3758 4.38229 10.3758 4.57376C10.3784 5.38685 10.3784 6.19993 10.3784 7.01302Z"
                                  fill="#64C048"
                                />
                                <path
                                  d="M2.39795 10.3098C1.89174 10.3098 1.38552 10.3124 0.876689 10.3098C0.352118 10.3072 -0.0177056 9.95046 0.000654405 9.45999C0.0111458 9.14787 0.17114 8.91706 0.441295 8.76231C0.950129 8.47117 1.45634 8.18004 1.96518 7.8889C2.4845 7.59252 3.00383 7.29351 3.52315 6.99975C3.88249 6.79779 4.21559 6.82402 4.50935 7.06532C4.71656 7.23581 4.79786 7.46662 4.79786 7.72628C4.80049 8.30331 4.80573 8.88034 4.79786 9.45737C4.79 9.97669 4.44902 10.3019 3.91921 10.3098C3.91134 10.3098 3.90085 10.3098 3.89298 10.3098C3.39463 10.3098 2.89629 10.3098 2.39795 10.3098Z"
                                  fill="#64C048"
                                />
                              </svg>
                              <svg
                                class="data__ico"
                                v-if="exercises[activeExercises].level === 3"
                                width="16"
                                height="11"
                                viewBox="0 0 16 11"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M16.0004 5.41297C16.0004 6.75587 16.0004 8.09615 16.0004 9.43906C16.0004 9.86134 15.767 10.1813 15.3866 10.281C15.2896 10.3046 15.1873 10.3125 15.0876 10.3125C14.0962 10.3151 13.1048 10.3151 12.1107 10.3125C11.531 10.3125 11.1979 9.97937 11.1979 9.40234C11.1979 7.33028 11.1979 5.25822 11.1953 3.18616C11.1953 2.80585 11.3474 2.5252 11.6779 2.33636C12.6903 1.75933 13.7028 1.17967 14.7152 0.602645C15.0745 0.398062 15.4129 0.421668 15.7119 0.67084C15.9191 0.846571 15.9951 1.08263 15.9951 1.34754C16.0004 2.70356 16.0004 4.05695 16.0004 5.41297Z"
                                  fill="#64C048"
                                />
                                <path
                                  d="M10.3784 7.01302C10.3784 7.82086 10.381 8.63132 10.3784 9.43917C10.3784 9.86407 10.1476 10.1814 9.76463 10.2785C9.66758 10.3021 9.56529 10.31 9.46562 10.31C8.4873 10.3126 7.50897 10.3126 6.52802 10.31C5.94837 10.31 5.61789 9.97685 5.61789 9.3972C5.61789 8.3874 5.62051 7.3776 5.61527 6.3678C5.61264 5.97961 5.77788 5.70421 6.11361 5.51274C7.10243 4.95407 8.086 4.38754 9.07219 3.82362C9.51283 3.57183 9.95085 3.65051 10.2315 4.0387C10.3443 4.19869 10.3758 4.38229 10.3758 4.57376C10.3784 5.38685 10.3784 6.19993 10.3784 7.01302Z"
                                  fill="#64C048"
                                />
                                <path
                                  d="M2.39795 10.3098C1.89174 10.3098 1.38552 10.3124 0.876689 10.3098C0.352118 10.3072 -0.0177056 9.95046 0.000654405 9.45999C0.0111458 9.14787 0.17114 8.91706 0.441295 8.76231C0.950129 8.47117 1.45634 8.18004 1.96518 7.8889C2.4845 7.59252 3.00383 7.29351 3.52315 6.99975C3.88249 6.79779 4.21559 6.82402 4.50935 7.06532C4.71656 7.23581 4.79786 7.46662 4.79786 7.72628C4.80049 8.30331 4.80573 8.88034 4.79786 9.45737C4.79 9.97669 4.44902 10.3019 3.91921 10.3098C3.91134 10.3098 3.90085 10.3098 3.89298 10.3098C3.39463 10.3098 2.89629 10.3098 2.39795 10.3098Z"
                                  fill="#64C048"
                                />
                              </svg>
                              <span class="data__text">{{ levels(exercises[activeExercises].level) }}</span>
                            </div>
                            <div class="data__item">
                              <svg
                                class="data__ico"
                                width="16"
                                height="16"
                                viewBox="0 0 16 16"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <rect width="16" height="16" rx="4" fill="#95B0DA" />
                              </svg>
                              <span class="data__text">Техника</span>
                            </div>
                          </div>
                        </div>

                        <div class="library__favorite favorite">
                          <svg
                            class="favorite__ico"
                            width="17"
                            height="16"
                            viewBox="0 0 17 16"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M3.90261 15.9767C3.13847 15.9885 2.76227 15.483 2.9151 14.8129C3.23251 13.4374 3.54993 12.0737 3.8791 10.6983C3.97315 10.3221 3.92612 10.0634 3.59695 9.79306C2.53891 8.92311 1.52789 7.99438 0.481596 7.10092C0.128914 6.80702 -0.117963 6.45434 0.0583776 5.98409C0.234719 5.51385 0.646181 5.4198 1.10467 5.38454C2.51539 5.27873 3.91437 5.17293 5.31334 5.0201C5.50143 4.99659 5.73655 4.77322 5.81885 4.58512C6.37138 3.33898 6.9004 2.06933 7.42943 0.811429C7.61752 0.376454 7.84089 -0.0114956 8.38167 0.000260458C8.88718 0.0120165 9.11054 0.376454 9.28689 0.799672C9.81591 2.05757 10.3567 3.31547 10.874 4.58512C11.015 4.92605 11.2031 5.04361 11.5676 5.06712C12.9783 5.16117 14.3773 5.29049 15.788 5.40805C16.2112 5.44332 16.6227 5.6079 16.6697 6.04287C16.705 6.36029 16.5639 6.80702 16.3405 7.01863C15.2942 7.99438 14.2127 8.92311 13.1076 9.84008C12.8137 10.087 12.7667 10.2986 12.849 10.6395C13.1781 12.0032 13.4838 13.3787 13.8247 14.7541C13.9305 15.1773 13.8835 15.5418 13.5308 15.8122C13.1546 16.1061 12.7667 16.0238 12.3905 15.7886C11.1914 15.0598 9.96874 14.3427 8.78137 13.5903C8.48747 13.4139 8.28762 13.4022 7.99372 13.5903C6.81811 14.3074 5.64251 15.001 4.4669 15.7064C4.25529 15.8357 4.00841 15.918 3.90261 15.9767Z"
                              fill="#95B0DA"
                            />
                          </svg>
                          <span class="favorite__text">Добавить в избранное</span>
                        </div>
                      </div>
                    </div>
                    <div class="library__action" @click="activeExercises = null">
                      <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M7.45318 6.30769L11.9763 10.8309C12.2887 11.1432 12.2887 11.6522 11.9763 11.9645C11.664 12.2769 11.155 12.2769 10.8427 11.9645L6.33106 7.45295L1.80211 11.9819C1.48977 12.2942 0.980764 12.2942 0.668422 11.9819L0.662638 11.9761C0.350297 11.6638 0.350296 11.1548 0.662638 10.8424L5.17424 6.33083L0.645286 1.80188C0.332944 1.48953 0.332944 0.980532 0.645286 0.668191L0.65107 0.662407C0.963411 0.350065 1.47241 0.350065 1.78475 0.662406L6.29636 5.17401L10.8253 0.645054C11.1377 0.332712 11.6467 0.332712 11.959 0.645054L11.9706 0.656622C12.2829 0.968964 12.2829 1.47796 11.9706 1.79031L7.45318 6.30769Z"
                          fill="#B9CBE5"
                        />
                      </svg>
                    </div>
                  </div>
                </div>
              </div>
            </v-col>
          </v-row>
          <v-row class="mb-1" v-if="activeExercises !== null">
            <v-col cols="12">
              <span class="small mb-1">Срок выполнения до</span>
            </v-col>
            <v-col cols="3">
              <v-text-field
                  v-model="dateStart"
                  class="modal-create__input modal-create__input--small"
                  height="auto"
                  flat
                  hide-details
                  v-mask="'##/##/####'"
                  placeholder="__ / __ /__"
              >
                <template slot="prepend">
                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M.017 4.304h13.938c.01.201.026.392.026.583.002 2.095.004 4.19 0 6.286-.003 1.787-.982 2.802-2.765 2.814-2.855.019-5.709.015-8.563 0-1.525-.007-2.58-.933-2.62-2.437C-.03 9.153.017 6.752.017 4.304Zm3.623 1.93c-.485.013-.916.46-.912.95.003.53.494 1.01 1.007.982a.956.956 0 0 0 .898-.957c-.005-.566-.436-.99-.993-.975Zm7.593.995a.96.96 0 0 0-.913-.996c-.511-.024-.967.408-.982.93-.015.524.408.98.921.993a.94.94 0 0 0 .974-.927Zm-8.504 3.417a.954.954 0 0 0 .91 1.004c.503.03.98-.408 1-.92a.962.962 0 0 0-.907-1.008c-.501-.023-.976.415-1.003.924Zm5.215-3.44c.013-.496-.404-.94-.905-.964a.977.977 0 0 0-1.014.968c0 .487.438.926.938.938a.973.973 0 0 0 .981-.942Zm-.99 4.446c.483.028.987-.444 1-.938.015-.484-.4-.933-.903-.977-.512-.045-.974.367-1.014.904-.037.502.398.98.916 1.011ZM13.93 3.089H.066C-.23 1.544.773.129 2.294.057 3.896-.02 5.504.014 7.11.007c1.408-.004 2.816-.015 4.224.004 1.74.024 2.82 1.293 2.597 3.078Z"
                      fill="#464EA3"
                    />
                  </svg>
                </template>
              </v-text-field>
            </v-col>
            <v-col cols="3" class="d-flex align-center">
              <v-row>
                <v-col cols="11">
                  <v-text-field
                    v-model="timeStart"
                    class="modal-create__input modal-create__input--small"
                    height="auto"
                    flat
                    hide-details
                    v-mask="'## : ##'"
                    placeholder="___:___"
                  >
                    <template slot="prepend">
                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="7" cy="7" r="7" fill="#464EA3" />
                        <path
                          d="M7.273 7.478c.631-.393 1.245-.772 1.857-1.164a.88.88 0 0 1 1.349.555.916.916 0 0 1-.395.962L6.87 9.848c-.301.188-.612.206-.916.03-.308-.174-.45-.46-.451-.817V4.23c0-.433-.003-.864 0-1.297.002-.486.306-.855.755-.924.533-.08 1.004.335 1.006.893.005.763 0 1.523 0 2.286v2.226l.01.063Z"
                          fill="#fff"
                        />
                      </svg>
                    </template>
                  </v-text-field>
                </v-col>
              </v-row>
            </v-col>
          </v-row>
        </div>
        <!-- Видео задание -->
        <div v-if="typeExercise === 'VD'">
          <v-row class="mb-6" v-if="!videoUrl.length">
            <v-col cols="7">
              <WUSelect outlined />
            </v-col>
            <v-col cols="5">
              <button class="d-flex align-center h-100 text-middle pointer">
                <svg
                  class="mr-2"
                  width="13"
                  height="14"
                  viewBox="0 0 13 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_1751_20390)">
                    <path
                      d="M6.38832 13.9899C4.80279 13.9899 3.21726 13.9626 1.63234 13.9994C0.55774 14.0243 -0.0101658 13.2772 0.000137755 12.4019C0.0274118 10.1956 0.0268057 7.98878 0.000743844 5.78313C-0.0101658 4.87332 0.597136 4.17789 1.63718 4.18561C4.82764 4.20996 8.0187 4.19333 11.2098 4.19511C12.2716 4.19571 12.8317 4.74682 12.8323 5.78788C12.8335 8.02382 12.8341 10.2598 12.8317 12.4963C12.831 13.1864 12.4935 13.706 11.8898 13.905C11.6758 13.9756 11.434 13.9851 11.2049 13.9863C9.59938 13.9928 7.99385 13.9899 6.38832 13.9899ZM2.853 9.11477C2.85482 8.39499 2.85118 8.39143 2.10812 8.39202C1.9972 8.39202 1.8675 8.35758 1.78083 8.40271C1.65355 8.46863 1.48445 8.57731 1.4596 8.69312C1.26202 9.62728 1.52748 9.90105 2.49056 9.79475C2.50026 9.79356 2.51056 9.79356 2.52086 9.79238C2.72754 9.76209 2.84876 9.65341 2.853 9.44021C2.85482 9.33153 2.853 9.22344 2.853 9.11477ZM11.4001 9.08151C11.4001 8.41875 11.3734 8.39202 10.7097 8.39202C10.6291 8.39202 10.5485 8.39143 10.4685 8.39202C10.0988 8.39677 9.99273 8.50308 9.98849 8.87187C9.97758 9.83514 9.92788 9.81079 10.9794 9.79475C11.2867 9.79 11.3904 9.67716 11.3995 9.37726C11.4025 9.27867 11.4001 9.18009 11.4001 9.08151ZM2.85361 11.8917C2.85421 11.2201 2.81906 11.185 2.14388 11.185C2.03296 11.185 1.90386 11.1506 1.81598 11.1951C1.67901 11.264 1.48809 11.3685 1.46142 11.4885C1.25292 12.4137 1.52263 12.6935 2.4851 12.5972C2.72027 12.5735 2.85482 12.4595 2.85361 12.2172C2.853 12.1085 2.85361 11.9998 2.85361 11.8917ZM11.3983 11.9024C11.3983 11.7842 11.4334 11.6512 11.3898 11.5508C11.3334 11.4208 11.2279 11.2349 11.1195 11.2171C10.837 11.1719 10.5364 11.1773 10.2527 11.2218C10.1509 11.2379 10.0224 11.4154 10.0018 11.5348C9.96182 11.7646 9.98728 12.0063 9.99031 12.2433C9.99273 12.4571 10.1188 12.5765 10.3249 12.5901C10.5655 12.6062 10.8085 12.6056 11.0491 12.5913C11.2704 12.5788 11.3976 12.4547 11.3989 12.2273C11.3995 12.1198 11.3989 12.0111 11.3983 11.9024ZM1.44324 6.28258C1.44324 6.98038 1.45718 6.99404 2.16751 6.99404C2.19782 6.99404 2.22752 6.99404 2.25782 6.99404C2.79179 6.99285 2.85421 6.93287 2.85482 6.42273C2.85482 6.26536 2.85967 6.10739 2.85239 5.95001C2.84209 5.7285 2.71966 5.60497 2.49177 5.59962C2.26085 5.59428 2.02932 5.59309 1.7984 5.60022C1.5693 5.60735 1.45293 5.73562 1.44505 5.95714C1.44081 6.06582 1.44384 6.1745 1.44324 6.28258ZM10.7067 5.59844C10.6364 5.59844 10.5661 5.59784 10.4958 5.59844C10.0758 5.60081 9.99091 5.68514 9.9891 6.10442C9.98849 6.27189 9.99031 6.43936 9.9891 6.60684C9.98728 6.84557 10.1097 6.97919 10.3497 6.98988C10.58 6.99998 10.8122 6.99939 11.0425 6.98929C11.2661 6.97919 11.3946 6.85804 11.3976 6.63178C11.4013 6.40551 11.4043 6.17865 11.397 5.95239C11.3898 5.73087 11.2661 5.60972 11.0376 5.60022C10.9279 5.59547 10.817 5.59903 10.7067 5.59844Z"
                      fill="#95B0DA"
                    />
                    <path
                      d="M6.41062 3.5003C4.79539 3.5003 3.17955 3.50208 1.56432 3.49911C1.05157 3.49793 0.730343 3.22237 0.728525 2.79775C0.726706 2.43074 1.00005 2.13499 1.37401 2.10114C1.42432 2.09638 1.47462 2.09817 1.52553 2.09817C4.7966 2.09817 8.06767 2.09698 11.3393 2.09876C11.7945 2.09876 12.0976 2.36422 12.1139 2.75974C12.1321 3.20158 11.8091 3.49674 11.2872 3.49911C10.2375 3.50327 9.18711 3.5003 8.13737 3.5003C7.56158 3.5003 6.9858 3.5003 6.41062 3.5003Z"
                      fill="#95B0DA"
                    />
                    <path
                      d="M6.41857 1.39025C5.24821 1.39025 4.07725 1.38965 2.90689 1.39025C2.59597 1.39025 2.35959 1.2691 2.22443 0.989382C2.10685 0.747081 2.1311 0.509531 2.28444 0.288609C2.44202 0.0605615 2.67536 -0.00120155 2.94265 -1.37956e-05C3.70935 0.00414333 4.47666 0.00117395 5.24336 0.00117395C6.76707 0.00117395 8.29078 -0.00179542 9.81448 0.00533108C9.99085 0.00592495 10.1836 0.0267106 10.34 0.0985694C10.6188 0.22744 10.7454 0.564761 10.6709 0.857542C10.5897 1.17586 10.323 1.3855 9.95994 1.38787C8.99141 1.39381 8.02228 1.39025 7.05375 1.39084C6.84283 1.39084 6.6307 1.39084 6.41857 1.39025Z"
                      fill="#95B0DA"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1751_20390">
                      <rect width="12.8333" height="14" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
                <span class="link__text">Выбрать из медиа библиотеки</span>
              </button>
            </v-col>
          </v-row>
          <v-row class="mb-5">
            <v-col cols="12">
              <DropzoneField type="file" @addUrl="addUrl" v-if="!videoUrl.length" title="Загрузить видео" />
              <Video :src="videoUrl" v-if="videoUrl.length" />
            </v-col>
          </v-row>
          <v-row class="mb-5">
            <div class="modal-comment">
              <WUInput
                outlined
                placeholder="Комментарий или методологические указания для выполнения  ..."
                class="modal-comment-inp"
              />
              <button
                class="modal-comment-btn d-flex align-center h-100 text-middle pointer justify-end w-100"
                @click="videoUrl = ''"
                v-if="videoUrl.length"
              >
                <span class="mr-2">удалить</span>
                <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M7.45318 6.30769L11.9763 10.8309C12.2887 11.1432 12.2887 11.6522 11.9763 11.9645C11.664 12.2769 11.155 12.2769 10.8427 11.9645L6.33106 7.45295L1.80211 11.9819C1.48977 12.2942 0.980764 12.2942 0.668422 11.9819L0.662638 11.9761C0.350297 11.6638 0.350296 11.1548 0.662638 10.8424L5.17424 6.33083L0.645286 1.80188C0.332944 1.48953 0.332944 0.980532 0.645286 0.668191L0.65107 0.662407C0.963411 0.350065 1.47241 0.350065 1.78475 0.662406L6.29636 5.17401L10.8253 0.645054C11.1377 0.332712 11.6467 0.332712 11.959 0.645054L11.9706 0.656622C12.2829 0.968964 12.2829 1.47796 11.9706 1.79031L7.45318 6.30769Z"
                    fill="#95B0DA"
                  />
                </svg>
              </button>
            </div>
          </v-row>
          <v-row class="mb-1">
            <v-col cols="12">
              <span class="small mb-1">Срок выполнения до</span>
            </v-col>
            <v-col cols="3">
              <v-text-field
                v-model="dateStart"
                class="modal-create__input modal-create__input--small"
                height="auto"
                flat
                hide-details
                placeholder="__ / __ /__"
                v-mask="'## / ## / ####'"
              >
                <template slot="prepend">
                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M.017 4.304h13.938c.01.201.026.392.026.583.002 2.095.004 4.19 0 6.286-.003 1.787-.982 2.802-2.765 2.814-2.855.019-5.709.015-8.563 0-1.525-.007-2.58-.933-2.62-2.437C-.03 9.153.017 6.752.017 4.304Zm3.623 1.93c-.485.013-.916.46-.912.95.003.53.494 1.01 1.007.982a.956.956 0 0 0 .898-.957c-.005-.566-.436-.99-.993-.975Zm7.593.995a.96.96 0 0 0-.913-.996c-.511-.024-.967.408-.982.93-.015.524.408.98.921.993a.94.94 0 0 0 .974-.927Zm-8.504 3.417a.954.954 0 0 0 .91 1.004c.503.03.98-.408 1-.92a.962.962 0 0 0-.907-1.008c-.501-.023-.976.415-1.003.924Zm5.215-3.44c.013-.496-.404-.94-.905-.964a.977.977 0 0 0-1.014.968c0 .487.438.926.938.938a.973.973 0 0 0 .981-.942Zm-.99 4.446c.483.028.987-.444 1-.938.015-.484-.4-.933-.903-.977-.512-.045-.974.367-1.014.904-.037.502.398.98.916 1.011ZM13.93 3.089H.066C-.23 1.544.773.129 2.294.057 3.896-.02 5.504.014 7.11.007c1.408-.004 2.816-.015 4.224.004 1.74.024 2.82 1.293 2.597 3.078Z"
                      fill="#464EA3"
                    />
                  </svg>
                </template>
              </v-text-field>
            </v-col>
            <v-col cols="3" class="d-flex align-center">
              <v-row>
                <v-col cols="11">
                  <v-text-field
                    v-model="timeStart"
                    class="modal-create__input modal-create__input--small"
                    height="auto"
                    flat
                    hide-details
                    v-mask="'## : ##'"
                    placeholder="___:___"
                  >
                    <template slot="prepend">
                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="7" cy="7" r="7" fill="#464EA3" />
                        <path
                          d="M7.273 7.478c.631-.393 1.245-.772 1.857-1.164a.88.88 0 0 1 1.349.555.916.916 0 0 1-.395.962L6.87 9.848c-.301.188-.612.206-.916.03-.308-.174-.45-.46-.451-.817V4.23c0-.433-.003-.864 0-1.297.002-.486.306-.855.755-.924.533-.08 1.004.335 1.006.893.005.763 0 1.523 0 2.286v2.226l.01.063Z"
                          fill="#fff"
                        />
                      </svg>
                    </template>
                  </v-text-field>
                </v-col>
              </v-row>
            </v-col>
            <v-col cols="5" class="d-flex align-center ml-auto">
              <v-text-field
                class="modal-create__input modal-create__input_with-text modal-create__input--small w-100"
                height="auto"
                flat
                hide-details
                placeholder=""
              >
                <template slot="prepend">
                  <svg width="13" height="14" viewBox="0 0 13 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M1.29939 8.68708C0.886835 8.68708 0.530004 8.68708 0.112053 8.68708C0.0761007 7.86736 0.0401479 7.05303 0.00509402 6.2387C-0.0686091 4.4869 0.658535 3.14946 2.11732 2.20211C2.89569 1.69607 3.77834 1.56394 4.68434 1.54058C5.95527 1.50732 7.2262 1.48035 8.49713 1.4489C8.58342 1.4471 8.66881 1.43092 8.78925 1.41834C8.78925 0.968927 8.78925 0.539291 8.78925 0C9.95771 0.833205 11.0489 1.61248 12.1841 2.42142C11.0408 3.23665 9.96401 4.00514 8.80902 4.82935C8.80902 4.30984 8.80902 3.86133 8.80902 3.30765C7.65584 3.30765 6.56647 3.30765 5.4771 3.30765C4.98455 3.30765 4.4902 3.28069 3.99944 3.31215C2.57572 3.40383 1.54477 4.57589 1.4477 5.92052C1.39107 6.6953 1.37579 7.47368 1.33894 8.25026C1.33265 8.38238 1.31557 8.51361 1.29939 8.68708Z"
                      fill="#464EA3"
                    />
                    <path
                      d="M3.96327 12.5355C3.96327 13.0478 3.96327 13.4757 3.96327 13.9997C2.81278 13.1791 1.7297 12.4061 0.591797 11.5945C1.72521 10.7846 2.80109 10.0161 3.94529 9.1991C3.94529 9.70424 3.94529 10.1528 3.94529 10.7082C5.09398 10.7082 6.18335 10.7082 7.27182 10.7082C7.76437 10.7082 8.25872 10.7316 8.75037 10.7046C10.219 10.6255 11.2635 9.38516 11.3345 8.02884C11.3731 7.28192 11.401 6.53411 11.4369 5.78719C11.4441 5.64158 11.4639 5.49687 11.4792 5.33508C11.8837 5.33508 12.2522 5.33508 12.6791 5.33508C12.6306 6.75522 13.0485 8.17175 12.5056 9.55773C11.8693 11.1837 10.6936 12.1949 8.9553 12.3827C7.65022 12.5238 6.32626 12.4933 5.01039 12.5337C4.68232 12.5445 4.35425 12.5355 3.96327 12.5355Z"
                      fill="#464EA3"
                    />
                  </svg>
                  <span class="pre-text">Количество просмотров</span>
                </template>
              </v-text-field>
            </v-col>
          </v-row>
        </div>
        <!-- Текстовое задание -->
        <div v-if="typeExercise === 'TX'">
          <v-row class="mb-6">
            <v-col cols="7">
              <WUSelect outlined />
            </v-col>
            <v-col cols="5">
              <button class="d-flex align-center h-100 text-middle pointer">
                <svg
                  class="mr-2"
                  width="13"
                  height="14"
                  viewBox="0 0 13 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_1751_20390)">
                    <path
                      d="M6.38832 13.9899C4.80279 13.9899 3.21726 13.9626 1.63234 13.9994C0.55774 14.0243 -0.0101658 13.2772 0.000137755 12.4019C0.0274118 10.1956 0.0268057 7.98878 0.000743844 5.78313C-0.0101658 4.87332 0.597136 4.17789 1.63718 4.18561C4.82764 4.20996 8.0187 4.19333 11.2098 4.19511C12.2716 4.19571 12.8317 4.74682 12.8323 5.78788C12.8335 8.02382 12.8341 10.2598 12.8317 12.4963C12.831 13.1864 12.4935 13.706 11.8898 13.905C11.6758 13.9756 11.434 13.9851 11.2049 13.9863C9.59938 13.9928 7.99385 13.9899 6.38832 13.9899ZM2.853 9.11477C2.85482 8.39499 2.85118 8.39143 2.10812 8.39202C1.9972 8.39202 1.8675 8.35758 1.78083 8.40271C1.65355 8.46863 1.48445 8.57731 1.4596 8.69312C1.26202 9.62728 1.52748 9.90105 2.49056 9.79475C2.50026 9.79356 2.51056 9.79356 2.52086 9.79238C2.72754 9.76209 2.84876 9.65341 2.853 9.44021C2.85482 9.33153 2.853 9.22344 2.853 9.11477ZM11.4001 9.08151C11.4001 8.41875 11.3734 8.39202 10.7097 8.39202C10.6291 8.39202 10.5485 8.39143 10.4685 8.39202C10.0988 8.39677 9.99273 8.50308 9.98849 8.87187C9.97758 9.83514 9.92788 9.81079 10.9794 9.79475C11.2867 9.79 11.3904 9.67716 11.3995 9.37726C11.4025 9.27867 11.4001 9.18009 11.4001 9.08151ZM2.85361 11.8917C2.85421 11.2201 2.81906 11.185 2.14388 11.185C2.03296 11.185 1.90386 11.1506 1.81598 11.1951C1.67901 11.264 1.48809 11.3685 1.46142 11.4885C1.25292 12.4137 1.52263 12.6935 2.4851 12.5972C2.72027 12.5735 2.85482 12.4595 2.85361 12.2172C2.853 12.1085 2.85361 11.9998 2.85361 11.8917ZM11.3983 11.9024C11.3983 11.7842 11.4334 11.6512 11.3898 11.5508C11.3334 11.4208 11.2279 11.2349 11.1195 11.2171C10.837 11.1719 10.5364 11.1773 10.2527 11.2218C10.1509 11.2379 10.0224 11.4154 10.0018 11.5348C9.96182 11.7646 9.98728 12.0063 9.99031 12.2433C9.99273 12.4571 10.1188 12.5765 10.3249 12.5901C10.5655 12.6062 10.8085 12.6056 11.0491 12.5913C11.2704 12.5788 11.3976 12.4547 11.3989 12.2273C11.3995 12.1198 11.3989 12.0111 11.3983 11.9024ZM1.44324 6.28258C1.44324 6.98038 1.45718 6.99404 2.16751 6.99404C2.19782 6.99404 2.22752 6.99404 2.25782 6.99404C2.79179 6.99285 2.85421 6.93287 2.85482 6.42273C2.85482 6.26536 2.85967 6.10739 2.85239 5.95001C2.84209 5.7285 2.71966 5.60497 2.49177 5.59962C2.26085 5.59428 2.02932 5.59309 1.7984 5.60022C1.5693 5.60735 1.45293 5.73562 1.44505 5.95714C1.44081 6.06582 1.44384 6.1745 1.44324 6.28258ZM10.7067 5.59844C10.6364 5.59844 10.5661 5.59784 10.4958 5.59844C10.0758 5.60081 9.99091 5.68514 9.9891 6.10442C9.98849 6.27189 9.99031 6.43936 9.9891 6.60684C9.98728 6.84557 10.1097 6.97919 10.3497 6.98988C10.58 6.99998 10.8122 6.99939 11.0425 6.98929C11.2661 6.97919 11.3946 6.85804 11.3976 6.63178C11.4013 6.40551 11.4043 6.17865 11.397 5.95239C11.3898 5.73087 11.2661 5.60972 11.0376 5.60022C10.9279 5.59547 10.817 5.59903 10.7067 5.59844Z"
                      fill="#95B0DA"
                    />
                    <path
                      d="M6.41062 3.5003C4.79539 3.5003 3.17955 3.50208 1.56432 3.49911C1.05157 3.49793 0.730343 3.22237 0.728525 2.79775C0.726706 2.43074 1.00005 2.13499 1.37401 2.10114C1.42432 2.09638 1.47462 2.09817 1.52553 2.09817C4.7966 2.09817 8.06767 2.09698 11.3393 2.09876C11.7945 2.09876 12.0976 2.36422 12.1139 2.75974C12.1321 3.20158 11.8091 3.49674 11.2872 3.49911C10.2375 3.50327 9.18711 3.5003 8.13737 3.5003C7.56158 3.5003 6.9858 3.5003 6.41062 3.5003Z"
                      fill="#95B0DA"
                    />
                    <path
                      d="M6.41857 1.39025C5.24821 1.39025 4.07725 1.38965 2.90689 1.39025C2.59597 1.39025 2.35959 1.2691 2.22443 0.989382C2.10685 0.747081 2.1311 0.509531 2.28444 0.288609C2.44202 0.0605615 2.67536 -0.00120155 2.94265 -1.37956e-05C3.70935 0.00414333 4.47666 0.00117395 5.24336 0.00117395C6.76707 0.00117395 8.29078 -0.00179542 9.81448 0.00533108C9.99085 0.00592495 10.1836 0.0267106 10.34 0.0985694C10.6188 0.22744 10.7454 0.564761 10.6709 0.857542C10.5897 1.17586 10.323 1.3855 9.95994 1.38787C8.99141 1.39381 8.02228 1.39025 7.05375 1.39084C6.84283 1.39084 6.6307 1.39084 6.41857 1.39025Z"
                      fill="#95B0DA"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1751_20390">
                      <rect width="12.8333" height="14" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
                <span class="link__text">Выбрать из медиа библиотеки</span>
              </button>
            </v-col>
          </v-row>
          <v-row class="mb-5">
            <v-col cols="12">
              <DropzoneField type="file" title="Загрузить документ" />
            </v-col>
          </v-row>
          <v-row class="mb-5">
            <v-col cols="12">
              <WUInput outlined placeholder="Комментарий или методологические указания для выполнения  ..." />
            </v-col>
          </v-row>
          <v-row class="mb-1">
            <v-col cols="12">
              <span class="small mb-1">Срок выполнения до</span>
            </v-col>
            <v-col cols="3">
              <v-text-field
                v-model="dateStart"
                class="modal-create__input modal-create__input--small"
                height="auto"
                flat
                hide-details
                placeholder="__ / __ /__"
                v-mask="'## / ## / ####'"
              >
                <template slot="prepend">
                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M.017 4.304h13.938c.01.201.026.392.026.583.002 2.095.004 4.19 0 6.286-.003 1.787-.982 2.802-2.765 2.814-2.855.019-5.709.015-8.563 0-1.525-.007-2.58-.933-2.62-2.437C-.03 9.153.017 6.752.017 4.304Zm3.623 1.93c-.485.013-.916.46-.912.95.003.53.494 1.01 1.007.982a.956.956 0 0 0 .898-.957c-.005-.566-.436-.99-.993-.975Zm7.593.995a.96.96 0 0 0-.913-.996c-.511-.024-.967.408-.982.93-.015.524.408.98.921.993a.94.94 0 0 0 .974-.927Zm-8.504 3.417a.954.954 0 0 0 .91 1.004c.503.03.98-.408 1-.92a.962.962 0 0 0-.907-1.008c-.501-.023-.976.415-1.003.924Zm5.215-3.44c.013-.496-.404-.94-.905-.964a.977.977 0 0 0-1.014.968c0 .487.438.926.938.938a.973.973 0 0 0 .981-.942Zm-.99 4.446c.483.028.987-.444 1-.938.015-.484-.4-.933-.903-.977-.512-.045-.974.367-1.014.904-.037.502.398.98.916 1.011ZM13.93 3.089H.066C-.23 1.544.773.129 2.294.057 3.896-.02 5.504.014 7.11.007c1.408-.004 2.816-.015 4.224.004 1.74.024 2.82 1.293 2.597 3.078Z"
                      fill="#464EA3"
                    />
                  </svg>
                </template>
              </v-text-field>
            </v-col>
            <v-col cols="3" class="d-flex align-center">
              <v-row>
                <v-col cols="11">
                  <v-text-field
                    v-model="timeStart"
                    class="modal-create__input modal-create__input--small"
                    height="auto"
                    flat
                    hide-details
                    placeholder="___:___"
                    v-mask="'## : ##'"
                  >
                    <template slot="prepend">
                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="7" cy="7" r="7" fill="#464EA3" />
                        <path
                          d="M7.273 7.478c.631-.393 1.245-.772 1.857-1.164a.88.88 0 0 1 1.349.555.916.916 0 0 1-.395.962L6.87 9.848c-.301.188-.612.206-.916.03-.308-.174-.45-.46-.451-.817V4.23c0-.433-.003-.864 0-1.297.002-.486.306-.855.755-.924.533-.08 1.004.335 1.006.893.005.763 0 1.523 0 2.286v2.226l.01.063Z"
                          fill="#fff"
                        />
                      </svg>
                    </template>
                  </v-text-field>
                </v-col>
              </v-row>
            </v-col>
          </v-row>
        </div>
        <!-- Интерактивное задание -->
        <div v-if="typeExercise === 'IT'">
          <v-row class="mb-6">
            <v-col cols="8">
              <WUSelect outlined />
            </v-col>
            <v-col cols="4">
              <small-select
                :items="[
                  { id: '1', title: 'Умное видео' },
                  { id: '2', title: 'Умное видео' },
                  { id: '3', title: 'Умное видео' },
                  { id: '4', title: 'Умное видео' },
                  { id: '5', title: 'Умное видео' },
                ]"
                label="Умное видео"
                itemValue="id"
                text="title"
              />
            </v-col>
          </v-row>
          <v-row class="mb-6">
            <v-col cols="5">
              <button class="d-flex align-center h-100 text-middle pointer opacity-50">
                <svg
                  class="mr-2"
                  width="13"
                  height="14"
                  viewBox="0 0 13 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_1751_20390)">
                    <path
                      d="M6.38832 13.9899C4.80279 13.9899 3.21726 13.9626 1.63234 13.9994C0.55774 14.0243 -0.0101658 13.2772 0.000137755 12.4019C0.0274118 10.1956 0.0268057 7.98878 0.000743844 5.78313C-0.0101658 4.87332 0.597136 4.17789 1.63718 4.18561C4.82764 4.20996 8.0187 4.19333 11.2098 4.19511C12.2716 4.19571 12.8317 4.74682 12.8323 5.78788C12.8335 8.02382 12.8341 10.2598 12.8317 12.4963C12.831 13.1864 12.4935 13.706 11.8898 13.905C11.6758 13.9756 11.434 13.9851 11.2049 13.9863C9.59938 13.9928 7.99385 13.9899 6.38832 13.9899ZM2.853 9.11477C2.85482 8.39499 2.85118 8.39143 2.10812 8.39202C1.9972 8.39202 1.8675 8.35758 1.78083 8.40271C1.65355 8.46863 1.48445 8.57731 1.4596 8.69312C1.26202 9.62728 1.52748 9.90105 2.49056 9.79475C2.50026 9.79356 2.51056 9.79356 2.52086 9.79238C2.72754 9.76209 2.84876 9.65341 2.853 9.44021C2.85482 9.33153 2.853 9.22344 2.853 9.11477ZM11.4001 9.08151C11.4001 8.41875 11.3734 8.39202 10.7097 8.39202C10.6291 8.39202 10.5485 8.39143 10.4685 8.39202C10.0988 8.39677 9.99273 8.50308 9.98849 8.87187C9.97758 9.83514 9.92788 9.81079 10.9794 9.79475C11.2867 9.79 11.3904 9.67716 11.3995 9.37726C11.4025 9.27867 11.4001 9.18009 11.4001 9.08151ZM2.85361 11.8917C2.85421 11.2201 2.81906 11.185 2.14388 11.185C2.03296 11.185 1.90386 11.1506 1.81598 11.1951C1.67901 11.264 1.48809 11.3685 1.46142 11.4885C1.25292 12.4137 1.52263 12.6935 2.4851 12.5972C2.72027 12.5735 2.85482 12.4595 2.85361 12.2172C2.853 12.1085 2.85361 11.9998 2.85361 11.8917ZM11.3983 11.9024C11.3983 11.7842 11.4334 11.6512 11.3898 11.5508C11.3334 11.4208 11.2279 11.2349 11.1195 11.2171C10.837 11.1719 10.5364 11.1773 10.2527 11.2218C10.1509 11.2379 10.0224 11.4154 10.0018 11.5348C9.96182 11.7646 9.98728 12.0063 9.99031 12.2433C9.99273 12.4571 10.1188 12.5765 10.3249 12.5901C10.5655 12.6062 10.8085 12.6056 11.0491 12.5913C11.2704 12.5788 11.3976 12.4547 11.3989 12.2273C11.3995 12.1198 11.3989 12.0111 11.3983 11.9024ZM1.44324 6.28258C1.44324 6.98038 1.45718 6.99404 2.16751 6.99404C2.19782 6.99404 2.22752 6.99404 2.25782 6.99404C2.79179 6.99285 2.85421 6.93287 2.85482 6.42273C2.85482 6.26536 2.85967 6.10739 2.85239 5.95001C2.84209 5.7285 2.71966 5.60497 2.49177 5.59962C2.26085 5.59428 2.02932 5.59309 1.7984 5.60022C1.5693 5.60735 1.45293 5.73562 1.44505 5.95714C1.44081 6.06582 1.44384 6.1745 1.44324 6.28258ZM10.7067 5.59844C10.6364 5.59844 10.5661 5.59784 10.4958 5.59844C10.0758 5.60081 9.99091 5.68514 9.9891 6.10442C9.98849 6.27189 9.99031 6.43936 9.9891 6.60684C9.98728 6.84557 10.1097 6.97919 10.3497 6.98988C10.58 6.99998 10.8122 6.99939 11.0425 6.98929C11.2661 6.97919 11.3946 6.85804 11.3976 6.63178C11.4013 6.40551 11.4043 6.17865 11.397 5.95239C11.3898 5.73087 11.2661 5.60972 11.0376 5.60022C10.9279 5.59547 10.817 5.59903 10.7067 5.59844Z"
                      fill="#95B0DA"
                    />
                    <path
                      d="M6.41062 3.5003C4.79539 3.5003 3.17955 3.50208 1.56432 3.49911C1.05157 3.49793 0.730343 3.22237 0.728525 2.79775C0.726706 2.43074 1.00005 2.13499 1.37401 2.10114C1.42432 2.09638 1.47462 2.09817 1.52553 2.09817C4.7966 2.09817 8.06767 2.09698 11.3393 2.09876C11.7945 2.09876 12.0976 2.36422 12.1139 2.75974C12.1321 3.20158 11.8091 3.49674 11.2872 3.49911C10.2375 3.50327 9.18711 3.5003 8.13737 3.5003C7.56158 3.5003 6.9858 3.5003 6.41062 3.5003Z"
                      fill="#95B0DA"
                    />
                    <path
                      d="M6.41857 1.39025C5.24821 1.39025 4.07725 1.38965 2.90689 1.39025C2.59597 1.39025 2.35959 1.2691 2.22443 0.989382C2.10685 0.747081 2.1311 0.509531 2.28444 0.288609C2.44202 0.0605615 2.67536 -0.00120155 2.94265 -1.37956e-05C3.70935 0.00414333 4.47666 0.00117395 5.24336 0.00117395C6.76707 0.00117395 8.29078 -0.00179542 9.81448 0.00533108C9.99085 0.00592495 10.1836 0.0267106 10.34 0.0985694C10.6188 0.22744 10.7454 0.564761 10.6709 0.857542C10.5897 1.17586 10.323 1.3855 9.95994 1.38787C8.99141 1.39381 8.02228 1.39025 7.05375 1.39084C6.84283 1.39084 6.6307 1.39084 6.41857 1.39025Z"
                      fill="#95B0DA"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_1751_20390">
                      <rect width="12.8333" height="14" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
                <span class="link__text">Выбрать из медиа библиотеки</span>
              </button>
            </v-col>
          </v-row>
          <v-row class="mb-5">
            <v-col cols="12">
              <WUInput outlined />
            </v-col>
          </v-row>
          <v-row class="mb-1">
            <v-col cols="12">
              <span class="small mb-1">Срок выполнения до</span>
            </v-col>
            <v-col cols="3">
              <v-text-field
                v-model="dateStart"
                class="modal-create__input modal-create__input--small"
                height="auto"
                flat
                hide-details
                placeholder="__ / __ /__"
              >
                <template slot="prepend">
                  <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M.017 4.304h13.938c.01.201.026.392.026.583.002 2.095.004 4.19 0 6.286-.003 1.787-.982 2.802-2.765 2.814-2.855.019-5.709.015-8.563 0-1.525-.007-2.58-.933-2.62-2.437C-.03 9.153.017 6.752.017 4.304Zm3.623 1.93c-.485.013-.916.46-.912.95.003.53.494 1.01 1.007.982a.956.956 0 0 0 .898-.957c-.005-.566-.436-.99-.993-.975Zm7.593.995a.96.96 0 0 0-.913-.996c-.511-.024-.967.408-.982.93-.015.524.408.98.921.993a.94.94 0 0 0 .974-.927Zm-8.504 3.417a.954.954 0 0 0 .91 1.004c.503.03.98-.408 1-.92a.962.962 0 0 0-.907-1.008c-.501-.023-.976.415-1.003.924Zm5.215-3.44c.013-.496-.404-.94-.905-.964a.977.977 0 0 0-1.014.968c0 .487.438.926.938.938a.973.973 0 0 0 .981-.942Zm-.99 4.446c.483.028.987-.444 1-.938.015-.484-.4-.933-.903-.977-.512-.045-.974.367-1.014.904-.037.502.398.98.916 1.011ZM13.93 3.089H.066C-.23 1.544.773.129 2.294.057 3.896-.02 5.504.014 7.11.007c1.408-.004 2.816-.015 4.224.004 1.74.024 2.82 1.293 2.597 3.078Z"
                      fill="#464EA3"
                    />
                  </svg>
                </template>
              </v-text-field>
            </v-col>
            <v-col cols="3" class="d-flex align-center">
              <v-row>
                <v-col cols="11">
                  <v-text-field
                    v-model="timeStart"
                    class="modal-create__input modal-create__input--small"
                    height="auto"
                    flat
                    hide-details
                    placeholder="___:___"
                  >
                    <template slot="prepend">
                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="7" cy="7" r="7" fill="#464EA3" />
                        <path
                          d="M7.273 7.478c.631-.393 1.245-.772 1.857-1.164a.88.88 0 0 1 1.349.555.916.916 0 0 1-.395.962L6.87 9.848c-.301.188-.612.206-.916.03-.308-.174-.45-.46-.451-.817V4.23c0-.433-.003-.864 0-1.297.002-.486.306-.855.755-.924.533-.08 1.004.335 1.006.893.005.763 0 1.523 0 2.286v2.226l.01.063Z"
                          fill="#fff"
                        />
                      </svg>
                    </template>
                  </v-text-field>
                </v-col>
              </v-row>
            </v-col>
          </v-row>
        </div>
        <!-- Творческое задание -->
        <div v-if="typeExercise === 'CR'">
          <v-row class="mb-4">
            <v-col cols="12">
              <WUSelect outlined />
            </v-col>
          </v-row>
          <v-row class="mb-4">
            <v-col cols="12">
              <v-textarea
                v-if="typeNote !== 'toDo'"
                auto-grow
                class="create-note__text"
                hide-details
                single-line
                rows="1"
                label="Введите текст ..."
              ></v-textarea>
            </v-col>
          </v-row>
          <v-row class="mb-5">
            <v-col cols="12">
              <DropzoneField type="image" />
            </v-col>
          </v-row>
        </div>

        <!-- Подвал попапа -->
        <v-row>
          <v-col cols="12">
            <div class="d-flex justify-center pt-4 pb-4" @click="addHomework" v-if="!edit">
              <base-button label="+ Добавить задание" type="submit"></base-button>
            </div>
            <div class="d-flex justify-center pt-4 pb-4" @click="editHomework" v-if="edit">
              <base-button label="Сохранить" type="submit"></base-button>
            </div>
          </v-col>
        </v-row>
      </div>
    </v-dialog>
  </div>
</template>

<script>
import SmallSelect from '@/components/elements/SmallSelect.vue'
import WUSelect from '@/components/library/WUSelect.vue'
import WUInput from '@/components/library/WUInput.vue'
import vueCustomScrollbar from 'vue-custom-scrollbar'
import 'vue-custom-scrollbar/dist/vueScrollbar.css'
import DataPicker from '@/components/elements/DataPicker'
import { mapState } from 'vuex'
import axios from 'axios'
import { API_URL_GRAF } from '@/config/api'
import moment from 'moment'
import ModalDateTime from './ModalDateTime.vue'
import ModalReminders from './ModalReminders.vue'
import ModalRepeat from './ModalRepeat.vue'
import DropzoneField from '@/components/elements/DropzoneField'
import Input from '../InputsForModals/Input'
import Video from '@/components/Video'

export default {
  name: 'ModalTrainerNewEvent',
  components: {
    Input,
    DataPicker,
    ModalDateTime,
    ModalReminders,
    ModalRepeat,
    SmallSelect,
    vueCustomScrollbar,
    DropzoneField,
    WUSelect,
    WUInput,
    Video,
  },
  props: {
    visible: {
      type: Boolean,
      default: false,
    },
    inDate: {
      type: String,
      default: null,
    },
    inTimeStart: {
      type: String,
      default: '',
    },
    inTimeEnd: {
      type: String,
      default: '',
    },
    initExercise: {
      type: Object,
    },
    initDateStart: {
      type: String,
    },
    initTimeStart: {
      type: String,
    },
    edit: {
      type: Boolean,
    },
  },
  data() {
    return {
      typeNote: '',
      scrollSettings: {
        suppressScrollY: false,
        suppressScrollX: false,
        wheelPropagation: false,
      },
      selectedSortSportsmas: 'all',
      selectedSportsmans: [],
      sortSportsmans: [
        {
          id: 'all',
          icon: require('@/assets/images/svg/positionTypes/all-select.svg'),
          title: 'Все игроки',
        },
        {
          id: 'non-goalies',
          icon: require('@/assets/images/svg/positionTypes/non-goalies-select.svg'),
          title: 'Полевые игроки',
        },
        {
          id: 'goalies',
          icon: require('@/assets/images/svg/positionTypes/goalies-select.svg'),
          title: 'Вратари',
        },
      ],
      title: '',
      typeOfPreparation: 'none',
      positionType: '',
      sportsman: '',
      dateStart: '',
      location: '',
      playground: null,
      timeStart: '',
      timeEnd: '',
      reminder: '',
      typeTraining: 'group',
      typePreparationList: [{ color: '#95B0DA', title: 'Категория события', slug: 'none' }],
      typePreparationList2: [],
      positionList: [],
      reminderList: [],
      timeStartList: [
        '07:00',
        '08:00',
        '09:00',
        '10:00',
        '11:00',
        '12:00',
        '13:00',
        '14:00',
        '15:00',
        '16:00',
        '17:00',
        '18:00',
      ],
      timeEndList: [
        '08:00',
        '09:00',
        '10:00',
        '11:00',
        '12:00',
        '13:00',
        '14:00',
        '15:00',
        '16:00',
        '17:00',
        '18:00',
        '19:00',
      ],
      locations: [],
      timePeriodLabel: '',
      rules: {
        required: [value => !!value || 'Поле обязательно'],
      },
      menuSettings: {
        contentClass: 'modal-create__select-menu',
        nudgeBottom: 32,
        nudgeLeft: 0,
        maxWidth: 236,
      },
      menuSettingsSubcategory: {
        contentClass: 'modal-create__select-menu',
      },
      menuSettingsBordered: {
        contentClass: 'modal-create__select-menu',
        nudgeBottom: 32,
        nudgeLeft: 12,
      },
      activeExercises: null,
      exerciseSearch: '',
      exercises: [],
      showReminders: false,
      showRepeat: false,
      typeExercise: 'FE',
      libraryList: false,
      videoUrl: '',
    }
  },
  computed: {
    show: {
      get() {
        return this.visible
      },
      set(value) {
        if (!value) {
          this.$emit('close')
        }
      },
    },
    exercisesFilter() {
      return this.exercises.filter(item => {
        return item.title.toLowerCase().includes(this.exerciseSearch.toLowerCase());
      });
    },
    sportsmanList: function () {
      let list = []
      if (this.profile.sportsmans) {
        this.profile.sportsmans.map(item => {
          list.push({ text: item.user.firstName + ' ' + item.user.lastName, value: item.id })
        })
      }
      return list
    },
    locationList: function () {
      let list = []
      if (this.locations) {
        this.locations.map(item => {
          list.push({ text: item.name, value: item.id })
        })
      }
      return list
    },
    playgroundList: function () {
      let locs = this.locations.filter(item => {
        return item.id == this.location
      })
      let loc = locs[0]
      let list = []
      if (loc) {
        loc.playgrounds.map(item => {
          list.push({ text: item.name, value: item.id })
        })
      }
      return list
    },
    ...mapState('auth', ['profile']),
    ...mapState('events', ['event']),
  },
  mounted() {
    if (this.inTimeStart.length) {
      this.timeStart = [this.inTimeStart]
    }
    if (this.inTimeEnd.length) {
      this.timeEnd = [this.inTimeEnd]
    }
    if (this.inDate) {
      this.dateStart = new Date(moment(this.inDate, 'DD-MM-YYYY').format('YYYY-MM-DD'))
    }

    this.getExercises()

    let self = this

    axios
        .get(API_URL_GRAF + '/events/utils/', {
          headers: {
            Authorization: localStorage.getItem('access') ? 'Bearer ' + localStorage.getItem('access') : '',
            'Content-Type': 'application/json; charset=utf-8',
          },
        })
        .then(function (response) {
          self.reminderList = self.createList(response.data.reminders, 'title')
          self.locations = response.data.locations

          let preparation = response.data.eventTypes.filter(event => event.eventType === null)

          self.typePreparationList = self.typePreparationList.concat(preparation)

          self.positionList = self.createList(response.data.positionTypes, 'title')
        })
        .catch(function (error) {
          console.log(error)
        })
  },
  methods: {
    async getExercises() {
      const response = await this.$exercises.getExercises()
      response.forEach((item) => {
        this.exercises.push({
          id: item.id,
          image: '',
          title: item.title,
          description: item.description,
          time: item.duration,
          level: 1
        })
      })

      console.log(response)
    },
    levels(l) {
      if (l === 1) return 'Умеренная'
      if (l === 2) return 'Средняя'
      if (l === 3) return 'Сложная'
    },
    calcPeriod() {
      this.timePeriodLabel = ''
      if (this.timeStart.length && this.timeEnd.length) {
        let start = moment().hours(this.timeStart.slice(0, 2))
        let end = moment().hours(this.timeEnd.slice(0, 2))
        let diff = end.diff(start, 'hours')
        if (diff > 0) this.timePeriodLabel = 'Время тренировки ' + diff + ' часа'
      }
    },
    createList(list, name) {
      let listNormal = []
      if (list) {
        list.map(item => {
          listNormal.push({ text: item[name], value: item.id })
        })
      }
      return listNormal
    },
    clearPlayground() {
      this.playground = null
    },
    setSubCategory() {
      if (this.typeOfPreparation == 'matches-and-competitions' || this.typeOfPreparation == 'training') {
        this.title = ''
        this.typePreparationList2 = this.typePreparationList.find(x => x.slug === this.typeOfPreparation).eventTypes
      }
    },
    getData(result) {
      this.dateStart = result.date
      this.timeStart = result.timeStart
      this.timeEnd = result.timeEnd
    },
    getRemindersData(result) {},
    getRepeatData(result) {},
    submitForm() {
      console.log(this.reminder)
      if (this.$refs.createEventform.validate()) {
        let timestart = moment(this.dateStart)
          .set('hour', parseInt(this.timeStart.slice(0, 2)))
          .set('minute', 0)
          .set('second', 0)
          .toDate()
        let timeend = moment(this.dateStart)
          .set('hour', parseInt(this.timeEnd.slice(0, 2)))
          .set('minute', 0)
          .set('second', 0)
          .toDate()
        let requestData = {
          title: this.title,
          description: '-',
          date: moment(this.dateStart).format('YYYY-MM-DD'),
          timeFrom: this.timeStart,
          timeTo: this.timeEnd,
          purposeLesson: '-',
          typeOfPreparation: this.typeOfPreparation,
          location: this.location,
          playground: this.playground,
          reminder: this.reminder.value,
          typeLesson: 1,
          positionType: this.positionType,
          group: 1,
          coach: this.profile.id,
          attenders: [this.sportsman],
          reminders: [this.reminder],
        }
        this.$store.dispatch('events/createEvent', requestData).then(response => {
          //this.$router.push({ name: 'Plan', params: { id: response.id } } )
          window.location.reload()
        })
      }
    },
    async addHomework() {
      if(!this.dateStart) return
      const date = new Date(moment(this.dateStart, 'DD/MM/YYYY').format('YYYY/MM/DD'))
      console.log(this.typeExercise)
      let body = {
        homework_type: this.typeExercise,
        status: 'IW',
        description: 'test descr',
        commentForRework: 'test commentForRework',
        date_to_do: date,
        sportsman: [3],
      }

      if(this.typeExercise === 'FE') body.exercises = [this.exercises[this.activeExercises].id]
      if(this.typeExercise === 'VD') body.video = this.videoFile

      try {
        const response = await this.$homework.postHomework(body)
        console.log(response)
        this.$emit('close')
      } catch (error) {
        console.log(error)
      }
    },
    editHomework() {
      if (this.exercises === null) return
      const exercise = {
        exercise: this.exercises[this.activeExercises],
        contentType: 'physicalExercise',
        dateStart: this.dateStart,
        timeStart: this.timeStart,
      }

      this.$emit('edit', exercise)
    },
    addUrl(file) {
      this.videoUrl = file.url
      this.videoFile = file.file
      console.log(file.file)
    },
  },
}
</script>
<style lang="scss">
.v-dialog {
  &.modal-homework {
    color: #464ea3;
    box-shadow: 0 6px 8px rgba(137, 155, 201, 0.15);
    border-radius: 1.75rem;
    padding: 2rem 2rem 0.5rem;
  }
}
</style>
<style lang="scss" scoped>
.v-dialog {
  &.modal-homework {
    .row {
      margin: 0 -12px;

      .col {
        padding: 0 12px;
      }
    }

    .small {
      font-size: 0.625rem;
      line-height: 0.625rem;
    }

    // modal-close
    .modal-close {
      top: 0.5rem;
      right: 0.125rem;
      background-image: url("data:image/svg+xml,%3Csvg width='13' height='12' viewBox='0 0 13 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.761 5.961 2.888 4.154C2.046 3.34 1.2 2.53.358 1.716A.972.972 0 0 1 .314.341C.693-.072 1.35-.123 1.762.26c.545.502 1.072 1.022 1.605 1.536.927.892 1.851 1.788 2.778 2.68.026.026.054.048.092.083l.697-.66 3.7-3.52c.415-.393.87-.478 1.317-.245.587.309.726 1.075.253 1.545-.571.568-1.16 1.11-1.744 1.665-.896.852-1.788 1.703-2.684 2.552-.022.022-.044.044-.013.022.3.328.584.672.902.98 1.164 1.14 2.347 2.262 3.51 3.397a.973.973 0 0 1-.369 1.634c-.413.142-.791.063-1.106-.243-1.404-1.35-2.807-2.706-4.21-4.059l-.269-.258L4.985 8.54c-1.063 1.009-2.123 2.021-3.189 3.027-.57.54-1.447.373-1.725-.321-.151-.376-.06-.78.256-1.079.75-.706 1.504-1.416 2.252-2.132C3.3 7.35 4.023 6.661 4.76 5.961Z' fill='%23B9CBE5'/%3E%3C/svg%3E");
    }

    // library
    .library {
      .library__select {
        border: 2px dashed #dce5f2;
        box-sizing: border-box;
        border-radius: 12px;
        height: 308px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        margin-bottom: 1.5rem;

        .ico {
          width: 108px;
          height: 96px;
          margin-bottom: 1.5rem;
        }

        .text {
          color: #95b0da;
          font-size: 20px;
          line-height: 27px;
          font-weight: 500;
        }
      }

      .library__list {
        .library__scroll {
          padding-right: 1rem;
        }
      }

      .library__item {
        color: #36427d;
        border: 2px solid #dce5f2;
        border-radius: 0.75rem;
        display: flex;
        position: relative;

        &:not(:last-child) {
          margin-bottom: 0.75rem;
        }

        &.library__item_active {
          max-width: calc(100% - 1.5rem);
        }

        &:hover {
          border-color: #899bc9;
        }

        .library__media {
          width: 9.25rem;
          min-width: 9.25rem;
          border-radius: 0.75rem 0 0 0.75rem;
          background-position: center;
          background-size: cover;
          background-repeat: no-repeat;
        }

        .library__main {
          padding: 0.75rem 1.25rem;
        }

        .library__action {
          display: none;
          align-items: center;
          justify-content: center;
          height: 100%;
          cursor: pointer;
          width: 2.5rem;
          position: absolute;
          top: 0;
          left: 100%;
        }

        &.library__item_active .library__action {
          display: flex;
        }

        .library__header {
          padding-bottom: 1rem;
          margin-bottom: 1rem;
          border-bottom: 1px solid #dce5f2;
          display: flex;
          justify-content: space-between;
          align-items: center;

          .library__title {
            font-size: 1rem;
            line-height: 1.25rem;
            font-weight: 400;
            letter-spacing: inherit;
            font-family: $Manrope, sans-serif !important;

            &:not(:last-child) {
              margin-right: 1rem;
            }

            .title__text {
              font-size: inherit;
              line-height: inherit;
              font-weight: inherit;
              letter-spacing: inherit;
            }
          }

          .library__time {
            display: flex;
            flex-direction: column;
            align-items: center;

            .time__value {
              color: #95b0da;
              font-size: 1.5rem;
              line-height: 1.25rem;
              font-weight: 500;
              font-family: 'FolksBold', serif;
            }

            .time__dimension {
              color: #464ea3;
              font-size: 0.75rem;
              line-height: 1rem;
            }
          }
        }

        .library__content {
          font-size: 0.875rem;
          line-height: 1rem;
          margin-bottom: 1.25rem;
        }

        .library__footer {
          font-size: 0.75rem;
          line-height: 1rem;
          display: flex;
          justify-content: space-between;

          .library__data {
            .data__list {
              display: flex;
            }

            .data__item {
              display: flex;
              align-items: center;

              &:not(:last-child) {
                margin-right: 2rem;
              }

              .data__ico {
                width: 1rem;
                min-width: 1rem;

                &:not(:last-child) {
                  margin-right: 0.5rem;
                }
              }
            }
          }

          .library__favorite {
            display: flex;
            align-items: center;
            cursor: pointer;

            &.library__favorite_active {
              .favorite__ico {
                path {
                  fill: #464ea3;
                }
              }

              .favorite__text {
                color: #464ea3;
              }
            }

            &:not(:last-child) {
              margin-right: 2rem;
            }

            .favorite__ico {
              width: 1rem;
              min-width: 1rem;

              &:not(:last-child) {
                margin-right: 0.5rem;
              }

              path {
                fill: #95b0da;
              }
            }

            .favorite__text {
              color: #95b0da;
            }
          }
        }
      }
    }
  }
}

.modal-comment {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.modal-comment-inp {
  width: 100%;

  &::v-deep {
    input {
      width: 100%;
    }
  }
}

.modal-comment-btn {
  width: 100px !important;
}

.v-input {
  margin: 0;
  padding: 0;

  &::v-deep {
    .v-input__control,
    .v-input__slot {
      &:before,
      &:after {
        display: none !important;
      }
    }

    .v-label {
      color: #95b0da;
      font-weight: 300;
      font-size: 14px;
      line-height: 19px;
    }

    textarea {
      color: #464ea3;
      height: 123px !important;
      box-sizing: border-box;
      resize: none;
      padding: 0.5rem 1.25rem;
      border: 1px solid #dce5f2;
      border-radius: 4px;
    }
  }
}

.v-btn {
  &::v-deep {
    .v-btn__content {
      line-height: 32px !important;
    }
  }
}

.modal-create__input {
  &::v-deep {
    padding: 0;
    margin-bottom: 10px;

    .v-input__slot {
      padding: 0 !important;

      &::before,
      &::after {
        display: none;
      }
    }

    .v-text-field__slot input {
      max-height: none;
      font-size: 16px;
      line-height: 22px;

      padding: 8px 10px 0px;

      color: $blue02;
      @include input-placeholder {
        color: $blue05;
      }
    }

    .v-input__prepend-outer {
      width: 33px;
      margin: 0;
      align-self: center;
      justify-content: center;
    }
  }
}

.modal-create__input {
  &.modal-create__input_with-text {
    &::v-deep {
      .v-input__prepend-outer {
        width: auto;
        display: flex;
        align-items: center;
        margin-right: 0.5rem;

        svg,
        img {
          width: 0.75rem;
          min-width: 0.75rem;
          margin-right: 0.5rem;
        }

        .pre-text {
          color: #464ea3;
          font-size: 14px;
          line-height: 20px;
          white-space: nowrap;
        }
      }

      input {
        text-align: center;
      }
    }
  }
}

.modal-create__input--small {
  &::v-deep {
    .v-text-field__slot input {
      font-size: 14px;
      line-height: 19px;
    }

    .v-input__slot {
      input {
        padding: 6px 8px;
      }
    }

    .v-input__control {
      border: 1px solid #ecf6ff;
      border-radius: 4px;
    }
  }
}
</style>

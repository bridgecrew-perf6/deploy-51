<template>
  <div class="match-video" :class="{'match-video_full-screen': videoFullScreen}">
    <video class="match-video__video" ref="video" @timeupdate="currentTime">
      <source src="@/assets/test-video-2.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
    </video>

    <div class="match-video__fullscreen-menu" v-if="videoFullScreen && editor">
      <div class="match-video__fullscreen-menu-wrapper"
           :class="{'match-video__fullscreen-menu-wrapper_open': openFullScreenMenu}">
        <default-left-menu v-show="tabActive === 0" />
        <comments-left-menu v-show="tabActive === 1" />
        <game-moments-left-menu v-show="tabActive === 2" />
        <neural-analysis-left-menu v-show="tabActive === 3" />
        <pencil-left-menu v-show="tabActive === 4" />
        <cut-vdeo-left-menu v-show="tabActive === 5" />
        <music-left-menu v-show="tabActive === 6" />
      </div>
      <button class="match-video__fullscreen-menu-btn"
              :class="{'match-video__fullscreen-menu-btn_active': openFullScreenMenu}"
              @click="openFullScreenMenu = !openFullScreenMenu">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M0 1.42514C0.052104 1.25013 0.0827533 1.06531 0.15999 0.90226C0.64425 -0.122349 1.99344 -0.314214 2.7471 0.532935C3.73647 1.6452 4.72031 2.76298 5.70692 3.87801C7.11955 5.47453 8.53218 7.07137 9.94542 8.66759C10.6203 9.42984 11.2958 10.1912 11.9726 10.9519C12.493 11.537 12.4866 12.4785 11.9625 13.0676C10.8382 14.3316 9.71708 15.5986 8.5947 16.8645C7.23877 18.3939 5.88254 19.923 4.52691 21.4527C3.93538 22.1199 3.34477 22.7881 2.75446 23.4565C2.49578 23.7492 2.17611 23.9282 1.78778 23.9822C1.77368 23.984 1.7605 23.9938 1.74671 23.9999C1.62411 23.9999 1.50151 23.9999 1.37892 23.9999C1.36206 23.9929 1.34551 23.9822 1.32804 23.9794C0.826001 23.8951 0.440432 23.6355 0.202899 23.1871C0.107273 23.006 0.0658962 22.796 0 22.5993C0 22.492 0 22.385 0 22.2778C0.0643637 21.8628 0.273086 21.5305 0.551076 21.2191C1.97689 19.6238 3.39166 18.0184 4.81073 16.417C6.08513 14.9789 7.35953 13.5408 8.63669 12.1049C8.70688 12.0258 8.70994 11.9777 8.63822 11.8971C7.10238 10.1691 5.5693 8.43864 4.03591 6.70817C2.88595 5.41048 1.73506 4.1134 0.588468 2.81264C0.437673 2.64161 0.287491 2.46201 0.180218 2.26309C0.0882702 2.09299 0.0576208 1.88948 0 1.70068C0 1.60903 0 1.51709 0 1.42514Z"
              fill="white"/>
          <path
              d="M12.5967 23.9997C12.3521 23.9504 12.1155 23.8848 11.9009 23.7481C11.0998 23.2375 10.945 22.1013 11.5767 21.393C12.5195 20.3362 13.457 19.2751 14.3967 18.2156C15.3692 17.119 16.3414 16.0217 17.3136 14.9248C18.1537 13.9765 18.9926 13.0273 19.8352 12.0814C19.8995 12.0091 19.8781 11.9702 19.8257 11.9107C18.4565 10.3675 17.0884 8.82338 15.7208 7.27926C14.363 5.74649 13.0098 4.21003 11.6463 2.68247C11.2043 2.18748 11.0621 1.63487 11.287 1.01544C11.6864 -0.0830311 13.1297 -0.353972 13.9088 0.518004C14.8752 1.59962 15.8336 2.68829 16.7957 3.7742C18.0774 5.22116 19.3586 6.66812 20.6403 8.11477C21.478 9.0603 22.3165 10.0046 23.1523 10.9514C23.3519 11.1776 23.4735 11.443 23.5165 11.743C23.5195 11.7645 23.5309 11.7844 23.5385 11.8053C23.5385 11.9355 23.5385 12.0655 23.5385 12.1957C23.4699 12.5789 23.2906 12.8973 23.0294 13.1897C21.6343 14.751 20.2492 16.3215 18.8611 17.8892C17.2321 19.7291 15.6028 21.5686 13.9759 23.4107C13.7543 23.6614 13.4959 23.8477 13.1726 23.9388C13.0889 23.9624 13.0034 23.9795 12.9185 23.9997C12.8112 23.9997 12.704 23.9997 12.5967 23.9997Z"
              fill="white"/>
        </svg>
      </button>
    </div>

    <div class="match-video__menu" v-if="menu">
      <button
          class="match-video__menu-icon"
          :class="{'match-video__menu-icon_active': tabActive === 1}"
          @click="$emit('selectTab', 1)">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M8.02883 0.00502435C10.0518 0.00502435 12.0737 0.00279636 14.0967 0.00613834C15.3544 0.00836632 15.9916 0.629974 15.995 1.87653C16.0017 4.86426 16.0017 7.85199 15.995 10.8397C15.9916 12.1843 15.3912 12.7769 14.0555 12.7792C12.0147 12.7825 9.97274 12.7948 7.93191 12.7703C7.40165 12.7636 7.01398 12.9374 6.65862 13.3105C6.03144 13.9689 5.37641 14.5994 4.73475 15.2444C4.44512 15.5352 4.1254 15.7558 3.69986 15.572C3.28211 15.3915 3.1941 15.0216 3.20413 14.605C3.21304 14.1973 3.18965 13.7873 3.21081 13.3807C3.23309 12.9407 3.01809 12.7758 2.61037 12.7814C2.31405 12.7847 2.01661 12.7881 1.71918 12.7803C0.718812 12.7524 0.00919913 12.1152 0.00474316 11.1171C-0.00862475 7.90769 0.00697114 4.69827 0.0426189 1.48886C0.0515308 0.65114 0.711014 0.05404 1.62894 0.0250762C2.85099 -0.0161415 4.07638 0.00613834 5.30066 0.00502435C6.20968 0.00391035 7.11981 0.00502435 8.02883 0.00502435Z"
              fill="white"/>
        </svg>
      </button>
      <button
          class="match-video__menu-icon"
          :class="{'match-video__menu-icon_active': tabActive === 2}"
          @click="$emit('selectTab', 2)">
        <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M7.40673 7.83173C7.40673 7.93238 7.40673 7.9963 7.40673 8.06056C7.40673 10.9124 7.40706 13.7642 7.40542 16.6161C7.40542 16.7298 7.40509 16.8482 7.37657 16.9567C7.29429 17.2684 7.00677 17.451 6.67533 17.4173C6.36619 17.3858 6.12818 17.1347 6.10785 16.8167C6.10359 16.7515 6.10359 16.6856 6.10359 16.62C6.10326 11.3481 6.10326 6.07585 6.10425 0.803945C6.10425 0.695432 6.10261 0.582657 6.12883 0.479061C6.20653 0.171552 6.50847 -0.0287546 6.82417 0.00337313C7.13332 0.0348452 7.37985 0.283344 7.39821 0.599704C7.41099 0.817386 7.39952 1.03671 7.40936 1.25472C7.41198 1.30979 7.44116 1.39306 7.48246 1.41273C7.88537 1.6055 8.28107 1.82482 8.70299 1.96415C9.49897 2.22707 10.3087 2.20052 11.0654 1.83203C12.0089 1.37241 12.9662 1.3134 13.9657 1.57599C14.266 1.655 14.5752 1.70057 14.8801 1.76188C15.2902 1.84449 15.5108 2.09824 15.5118 2.5159C15.5151 4.1495 15.5164 5.78277 15.5115 7.41637C15.5098 7.96024 15.12 8.25759 14.5778 8.15071C14.1228 8.06122 13.6687 7.96254 13.2107 7.89074C12.58 7.79206 11.9695 7.88943 11.3876 8.15006C10.9274 8.35627 10.4622 8.53035 9.94942 8.56248C9.30555 8.60313 8.70201 8.47101 8.12699 8.18973C7.89783 8.07826 7.66966 7.96287 7.40673 7.83173Z"
              fill="white"/>
          <path
              d="M5.28598 14.9278C5.28598 15.5107 5.27909 16.0835 5.28959 16.6559C5.29319 16.8552 5.31516 17.0614 5.3722 17.2515C5.56693 17.9013 6.23899 18.3082 6.95138 18.2272C7.60869 18.1524 8.18011 17.5774 8.20928 16.9172C8.23551 16.3228 8.22076 15.7265 8.22404 15.1311C8.22436 15.0665 8.22404 15.0016 8.22404 14.9121C8.38959 14.9272 8.53941 14.9367 8.68825 14.9551C9.92878 15.1088 11.1464 15.3498 12.2685 15.9346C12.6337 16.1251 12.9704 16.3569 13.2307 16.6844C13.6215 17.1758 13.5959 17.7653 13.1717 18.2314C12.8104 18.6285 12.3577 18.8874 11.8751 19.0996C10.9936 19.4867 10.0638 19.6969 9.11509 19.8329C8.1447 19.9719 7.16873 20.025 6.18982 19.988C4.76538 19.9339 3.36028 19.7533 2.01419 19.253C1.41753 19.0314 0.845784 18.7606 0.396323 18.2895C-0.14526 17.722 -0.13018 17.0614 0.431729 16.5126C0.854636 16.0995 1.36966 15.8399 1.91158 15.6288C2.85902 15.2593 3.84875 15.0682 4.8552 14.9531C4.97454 14.9393 5.0942 14.9288 5.21386 14.9183C5.22959 14.9164 5.24598 14.9219 5.28598 14.9278Z"
              fill="white"/>
        </svg>
      </button>
      <button
          class="match-video__menu-icon"
          :class="{'match-video__menu-icon_active': tabActive === 3}"
          @click="$emit('selectTab', 3)">
        <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M10.9388 6.29809C10.9388 6.94633 10.9388 7.48151 10.9388 8.09834C11.322 8.09834 11.6713 8.09834 12.0192 8.09834C13.1713 8.09834 14.3233 8.09583 15.474 8.0996C16.0494 8.10211 16.5582 8.0996 17.0507 7.61593C17.7341 6.94633 18.8522 7.10839 19.4577 7.81317C20.0934 8.55186 20.0469 9.66241 19.3547 10.3119C18.6738 10.9514 17.4979 10.9664 16.861 10.2579C16.5745 9.94005 16.2981 9.89734 15.9363 9.89859C14.2868 9.90487 12.6386 9.9011 10.9464 9.9011C10.9464 10.5179 10.9464 11.0682 10.9464 11.7014C11.9577 11.7014 12.9363 11.7001 13.915 11.7014C15.2027 11.7026 15.4049 11.9074 15.4049 13.1951C15.4049 13.4878 15.3584 13.7918 15.4175 14.072C15.4803 14.3684 15.5808 14.7014 15.7755 14.9199C16.4489 15.6737 16.469 16.7755 15.7692 17.4664C15.0682 18.1574 13.9929 18.1812 13.2831 17.5204C12.5682 16.8546 12.4841 15.6649 13.2127 15.0016C13.6914 14.5669 13.6311 14.1096 13.5934 13.5016C13.1524 13.5016 12.7215 13.5016 12.2906 13.5016C11.8547 13.5016 11.4175 13.5016 10.9012 13.5016C10.9012 14.4275 10.8811 15.3006 10.9087 16.1725C10.9263 16.7516 10.6713 17.1084 10.1763 17.3672C7.27428 18.8885 3.99287 17.5041 3.06322 14.3684C2.99036 14.1247 2.84211 13.876 2.66247 13.6963C0.182566 11.2189 0.509199 7.51668 3.40618 5.5305C3.71397 5.31945 3.7592 5.09583 3.74161 4.7491C3.6587 3.07699 4.30317 1.70764 5.68508 0.779251C7.1097 -0.17301 8.64865 -0.232055 10.2177 0.490306C10.6951 0.710155 10.915 1.04181 10.9074 1.56694C10.8924 2.50664 10.9037 3.44633 10.9037 4.44131C11.8057 4.44131 12.67 4.44131 13.5733 4.44131C13.6361 3.92623 13.7366 3.46141 13.219 3.00664C12.5054 2.3785 12.567 1.20639 13.2353 0.525482C13.9037 -0.155422 15.023 -0.169241 15.7253 0.492819C16.4464 1.17372 16.5431 2.24533 15.822 2.95387C15.4326 3.33578 15.4024 3.71015 15.4037 4.17121C15.4112 6.29683 15.4074 6.29683 13.3007 6.29683C12.5268 6.29809 11.7554 6.29809 10.9388 6.29809ZM4.36221 6.99658C4.21523 7.10211 4.01171 7.21392 3.84965 7.3697C2.48784 8.68628 2.45644 10.9991 3.80066 12.337C4.26799 12.8019 4.61096 13.2755 4.77302 13.9539C5.11347 15.3697 6.58458 16.3194 8.00669 16.1687C8.90995 16.0732 9.10091 15.8647 9.10091 14.9702C9.10091 14.6561 9.10091 14.3421 9.10091 14.028C9.10091 12.8245 9.10091 11.621 9.10091 10.4162C8.47779 10.5619 7.92754 10.69 7.33835 10.827C7.33835 10.1436 7.33835 9.58955 7.33835 9.04809C8.56573 8.69633 9.08332 8.16618 9.09588 7.18879C9.11473 5.6197 9.09211 4.04935 9.10845 2.48025C9.11222 2.14106 8.97905 2.0192 8.66875 1.92623C7.14237 1.46644 5.3886 2.91116 5.51046 4.54935C5.58206 5.51543 5.99412 6.29935 6.82453 6.85462C6.52553 7.381 6.24915 7.86719 5.91623 8.45261C5.39236 7.96266 4.91372 7.51291 4.36221 6.99658Z"
              fill="white"/>
        </svg>
      </button>
      <button
          class="match-video__menu-icon"
          :class="{'match-video__menu-icon_active': tabActive === 4}"
          @click="$emit('selectTab', 4)">
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M11.0079 3.52344C12.124 4.63824 13.3499 5.8628 14.5176 7.02785C11.5963 9.9504 8.64866 12.8994 5.68644 15.8629C5.58064 14.8843 5.01068 14.2165 3.78877 14.2218C3.72529 13.1097 3.25054 12.3598 2.18335 12.3493C5.08738 9.44523 8.04431 6.48698 11.0079 3.52344Z"
              fill="white"/>
          <path
              d="M16.1772 5.64464C14.8759 4.34205 13.6368 3.10162 12.3342 1.79772C12.8196 1.33091 13.3327 0.825742 13.8603 0.336447C14.3126 -0.0827594 14.8164 -0.127722 15.2687 0.300742C16.0978 1.08626 16.9138 1.88632 17.6966 2.7168C18.1172 3.16246 18.0788 3.67555 17.649 4.1265C17.1677 4.63695 16.6731 5.1355 16.1772 5.64464Z"
              fill="white"/>
          <path
              d="M0.57922 14.416C1.60013 15.4369 2.58401 16.4234 3.56524 17.4047C2.46367 17.5885 1.29994 17.7829 0 17.9998C0.20233 16.7501 0.394081 15.5586 0.57922 14.416Z"
              fill="white"/>
        </svg>
      </button>
      <button
          class="match-video__menu-icon"
          :class="{'match-video__menu-icon_active': tabActive === 5}"
          @click="$emit('selectTab', 5)">
        <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M13.7134 9.44475C12.6869 8.46562 11.6842 7.5411 10.7205 6.57563C10.3038 6.15887 9.86606 5.97414 9.27185 5.98779C7.82774 6.02237 7.71126 6.11428 7.71126 7.5411C7.71126 8.42013 7.72582 9.30006 7.7058 10.1791C7.69579 10.6095 7.83684 10.9334 8.16443 11.211C8.53387 11.524 8.87602 11.8689 9.26184 12.2301C9.14537 12.3002 9.05255 12.3621 8.95427 12.413C7.86141 12.98 7.1853 13.8735 6.94689 15.072C6.88229 15.3977 6.75125 15.4469 6.47007 15.445C4.9386 15.435 3.40713 15.446 1.87566 15.4387C0.69908 15.4332 0.00295738 14.7389 0.00204742 13.5733C-0.000682473 9.67679 -0.000682473 5.78032 0.00204742 1.88294C0.00113746 0.68907 0.69544 0.00295738 1.90205 0.00204742C6.3445 -0.000682473 10.7869 -0.000682473 15.2294 0.00204742C16.4314 0.00295738 17.1203 0.69271 17.1239 1.89022C17.1276 3.1942 17.1294 4.49818 17.1185 5.80216C17.1167 5.96959 17.0866 6.19071 16.9802 6.29536C15.9109 7.34728 14.8226 8.38009 13.7134 9.44475ZM1.74463 1.74099C1.74463 2.31973 1.74463 2.85751 1.74463 3.40713C2.30972 3.40713 2.8466 3.40713 3.38893 3.40713C3.38893 2.83841 3.38893 2.30062 3.38893 1.74099C2.83386 1.74099 2.30972 1.74099 1.74463 1.74099ZM13.7307 3.41259C14.3131 3.41259 14.8372 3.41259 15.3704 3.41259C15.3704 2.83932 15.3704 2.29152 15.3704 1.74372C14.8063 1.74372 14.2821 1.74372 13.7307 1.74372C13.7307 2.30699 13.7307 2.84478 13.7307 3.41259ZM1.7328 6.86773C2.24693 6.86773 2.71192 6.87774 3.176 6.85863C3.25881 6.85499 3.40258 6.73487 3.40531 6.66299C3.42533 6.17342 3.41623 5.68295 3.41623 5.19066C2.81475 5.19066 2.2806 5.19066 1.73371 5.19066C1.7328 5.74847 1.7328 6.27261 1.7328 6.86773ZM15.3804 5.19339C14.8008 5.19339 14.2657 5.19339 13.7052 5.19339C13.7052 5.68113 13.6906 6.13339 13.717 6.58382C13.7225 6.683 13.8699 6.85044 13.96 6.8559C14.4222 6.8832 14.8882 6.86864 15.3804 6.86864C15.3804 6.28626 15.3804 5.7512 15.3804 5.19339ZM1.74099 10.2446C2.32701 10.2446 2.86115 10.2446 3.3771 10.2446C3.3771 9.67133 3.3771 9.13809 3.3771 8.59575C2.81111 8.59575 2.28879 8.59575 1.74099 8.59575C1.74099 9.1572 1.74099 9.69226 1.74099 10.2446ZM1.73826 13.6934C2.29789 13.6934 2.83477 13.6934 3.39439 13.6934C3.39439 13.1283 3.39439 12.5905 3.39439 12.0281C2.83204 12.0281 2.29516 12.0281 1.73826 12.0281C1.73826 12.5923 1.73826 13.1301 1.73826 13.6934Z"
              fill="white"/>
          <path
              d="M17.992 7.72461C17.992 8.53539 18.0093 9.20057 17.9793 9.86302C17.972 10.0132 17.8219 10.1788 17.699 10.2971C16.7818 11.1779 15.8554 12.0497 14.8608 12.9906C15.152 13.2499 15.4032 13.5165 15.6989 13.7185C15.83 13.8086 16.0593 13.8123 16.2285 13.7786C17.0994 13.603 17.8328 13.8377 18.3779 14.5275C18.9338 15.2318 19.0094 16.0308 18.6063 16.8324C18.1995 17.6414 17.5025 18.0209 16.6052 17.9945C15.2685 17.9553 14.314 16.7023 14.6425 15.4156C14.708 15.159 14.6616 14.9943 14.4714 14.8214C14.2139 14.5885 13.9827 14.3273 13.6388 13.9752C13.525 14.1462 13.4568 14.3109 13.3376 14.4201C12.9426 14.7823 12.6578 15.0971 12.8071 15.7541C13 16.6013 12.3876 17.4676 11.5713 17.8207C10.7214 18.1883 9.72046 17.9781 9.11351 17.3038C8.49019 16.6113 8.38463 15.5758 8.85599 14.7668C9.30187 14.0015 10.2146 13.5557 11.0636 13.7695C11.4603 13.8696 11.6942 13.7741 11.9708 13.5056C13.8189 11.7103 15.6835 9.93218 17.5425 8.14865C17.6599 8.03673 17.78 7.9248 17.992 7.72461ZM11.5604 15.8506C11.554 15.4338 11.1218 15.0052 10.7059 15.0043C10.2919 15.0034 9.85513 15.432 9.84694 15.8479C9.83784 16.2765 10.2992 16.7323 10.726 16.7187C11.1418 16.7041 11.5659 16.2628 11.5604 15.8506ZM16.6917 15.0043C16.274 15.0107 15.8463 15.4429 15.8454 15.8588C15.8445 16.2728 16.274 16.7096 16.689 16.7178C17.1176 16.726 17.5734 16.2655 17.5589 15.8378C17.5461 15.4211 17.1057 14.998 16.6917 15.0043Z"
              fill="white"/>
          <path
              d="M9.41576 7.7168C10.7043 8.94343 11.8836 10.0672 13.1057 11.232C12.6989 11.6078 12.3067 11.97 11.9027 12.3431C11.1101 11.6042 10.3457 10.8962 9.58865 10.1801C9.50767 10.1036 9.42486 9.98079 9.42304 9.87796C9.40848 9.20368 9.41576 8.52849 9.41576 7.7168Z"
              fill="white"/>
        </svg>
      </button>
      <button
          class="match-video__menu-icon"
          :class="{'match-video__menu-icon_active': tabActive === 6}"
          @click="$emit('selectTab', 6)">
        <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M4.01133 12.1446C4.01133 11.9311 4.01133 11.7411 4.01133 11.551C4.01133 8.45495 4.01026 5.35886 4.01239 2.26277C4.01345 0.797545 4.80658 0.00228777 6.27393 0.00122601C9.65245 -0.000897504 13.032 0.000164255 16.4105 0.00122601C16.5836 0.00122601 16.7567 0.0150289 16.968 0.0245847C16.9786 0.225257 16.9945 0.397262 16.9945 0.568205C16.9956 5.32701 16.9988 10.0858 16.9935 14.8446C16.9913 16.5466 15.989 17.7591 14.3614 17.9704C13.1488 18.1276 12.1603 17.6508 11.4999 16.6305C10.813 15.5698 10.8119 14.4433 11.4978 13.3815C12.1571 12.359 13.1393 11.9173 14.3592 12.032C14.5344 12.049 14.7085 12.084 14.8827 12.1095C14.8975 12.1116 14.9145 12.1021 14.9687 12.0883C14.9687 10.0932 14.9687 8.08758 14.9687 6.05006C12.0032 6.05006 9.05468 6.05006 6.01699 6.05006C6.01699 6.24224 6.01699 6.44504 6.01699 6.64783C6.01699 9.39036 6.02336 12.1318 6.0138 14.8743C6.00849 16.5232 4.9839 17.7496 3.3902 17.9683C2.17661 18.1339 1.20403 17.6572 0.513892 16.6549C-0.170943 15.6622 -0.170943 14.353 0.511768 13.3581C1.20085 12.3548 2.16811 11.9067 3.38807 12.0384C3.57919 12.0586 3.76924 12.1021 4.01133 12.1446Z"
              fill="white"/>
        </svg>
      </button>
    </div>

    <div class="match-video__control" :class="{'match-video__control-min': videoFullScreen && openFullScreenMenu}">
      <div class="match-video__progress" @click="rewindVideo">
        <div class="match-video__progress-line" :style="`width: ${progress}%`">
          <div class="match-video__progress-dot"></div>
        </div>
      </div>
      <div class="match-video__control-options">
        <div class="match-video__control-content">
          <button
              class="match-video__btn match-video__btn_play"
              @click="toggleVideo">
            <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg" v-if="play">
              <rect width="4" height="16" rx="1" fill="white"/>
              <rect x="10" width="4" height="16" rx="1" fill="white"/>
            </svg>

            <svg width="13" height="14" viewBox="0 0 13 14" fill="none" xmlns="http://www.w3.org/2000/svg" v-else>
              <path
                  d="M0.496094 11.6403V2.68902C0.496094 1.1525 2.15675 0.189874 3.49007 0.953506L11.3047 5.42914C12.646 6.19738 12.646 8.13193 11.3047 8.90017L3.49007 13.3758C2.15675 14.1394 0.496094 13.1768 0.496094 11.6403Z"
                  fill="#fff"/>
            </svg>

          </button>
          <button
              class="match-video__btn"
              style="margin-left: 16px">
            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                  d="M3.06 18.0875L13.2864 11.696C14.5397 10.9127 14.5397 9.08734 13.2864 8.304L3.06 1.9125C1.7279 1.07994 2.42984e-08 2.03763 4.30309e-08 3.6085L1.95467e-07 16.3915C2.14199e-07 17.9624 1.7279 18.9201 3.06 18.0875Z"
                  fill="#ACA3DD"/>
              <rect x="16" width="3" height="20" rx="1.5" fill="#ACA3DD"/>
            </svg>
          </button>
          <p class="match-video__time">{{ timer }}</p>
          <div class="match-video__volume">
            <img
                src="@/assets/images/svg/volume-none.svg"
                class="match-video__volume-icon"
                alt="volume"
                v-if="volume == '0'">
            <img
                src="@/assets/images/svg/volume.svg"
                class="match-video__volume-icon"
                alt="volume"
                v-else>
            <input
                type="range"
                min="0" max="100"
                step="1"
                v-model="volume"
                @input="videoVolume"
                class="match-video__volume-range">
          </div>
        </div>
        <div class="match-video__control-content">
          <button class="match-video__btn">
            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                  d="M17.2705 18.0382C17.1079 17.9854 17.0092 17.9743 16.9356 17.9256C15.443 16.9445 14.1241 17.5198 12.8594 18.4023C12.6843 18.5246 12.5676 18.7928 12.5148 19.0152C12.3605 19.6628 12.2521 20.3216 12.1215 20.9984C10.5524 20.9984 9.03064 20.9984 7.47829 20.9984C7.32819 20.2701 7.19616 19.5697 7.02939 18.8762C6.9877 18.6997 6.87235 18.4913 6.72643 18.3981C6.14412 18.0271 5.55069 17.6685 4.92947 17.3669C4.73629 17.2738 4.43472 17.328 4.2068 17.3975C3.59113 17.5837 2.98937 17.8144 2.32645 18.0465C1.54819 16.704 0.785213 15.3907 0.00416927 14.044C0.778264 13.1337 1.96095 12.6904 1.93871 11.0449C1.91926 9.45366 0.865819 8.96586 0 8.08336C0.774095 6.73807 1.53846 5.40947 2.31812 4.05445C3.00049 4.28515 3.63144 4.49778 4.261 4.71181C4.34855 4.74099 4.42916 4.79658 4.5181 4.81465C4.91418 4.89387 6.98631 3.51384 7.07665 3.11637C7.08637 3.0705 7.0961 3.02603 7.10722 2.98017C7.25314 2.35756 7.20867 1.51814 7.59919 1.17487C7.96053 0.858009 8.79022 1.06508 9.41283 1.05813C10.2912 1.04841 11.1695 1.05535 12.0964 1.05535C12.2521 1.79332 12.3827 2.49236 12.5537 3.1789C12.6023 3.37347 12.7302 3.60139 12.8914 3.70701C13.4501 4.07113 14.0268 4.4144 14.6258 4.70764C14.8218 4.80353 15.1233 4.77713 15.3471 4.70903C15.9822 4.51863 16.6034 4.2782 17.2622 4.04472C18.0516 5.40947 18.8118 6.72279 19.5817 8.05417C18.784 8.95613 17.6444 9.40502 17.6527 11.0116C17.661 12.5931 18.6658 13.1226 19.5872 14.0023C18.8159 15.3518 18.0432 16.6957 17.2705 18.0382ZM16.3741 6.48514C15.9086 6.63106 15.4555 6.73112 15.0413 6.91457C14.5966 7.11053 14.3089 6.99379 13.9184 6.7214C13.1485 6.18495 12.3105 5.73745 11.4683 5.31496C11.0708 5.11484 10.7623 4.96196 10.7331 4.44497C10.7081 3.99886 10.5552 3.5597 10.4621 3.12748C9.97985 3.12748 9.56848 3.12748 9.11542 3.12748C9.02925 3.55275 8.92224 3.953 8.87082 4.36159C8.81106 4.83689 8.64707 5.13429 8.13008 5.29828C7.5436 5.48312 6.92099 5.73328 6.47071 6.13214C5.57988 6.92291 4.7085 7.27174 3.59669 6.61855C3.48551 6.55324 3.17004 6.67692 3.06025 6.80617C2.84761 7.05772 2.7142 7.37597 2.55854 7.64836C2.92266 7.97635 3.20617 8.29182 3.54666 8.52391C3.99555 8.82827 4.05531 9.17015 3.98305 9.69687C3.87464 10.4876 3.83156 11.3159 3.94969 12.1011C4.06226 12.8474 3.96915 13.3797 3.30623 13.7911C3.02411 13.9662 2.80314 14.2372 2.55993 14.4596C2.79202 14.8682 2.99632 15.2267 3.21451 15.6117C3.68008 15.4658 4.13175 15.3657 4.54729 15.1822C4.99201 14.9863 5.27969 15.1016 5.67021 15.374C6.44014 15.9105 7.27816 16.358 8.12035 16.7819C8.51643 16.9806 8.82635 17.1335 8.85554 17.6504C8.88055 18.0966 9.03342 18.5357 9.12654 18.9679C9.60878 18.9679 10.0188 18.9679 10.4663 18.9679C10.5552 18.5413 10.665 18.141 10.7164 17.7338C10.7776 17.2585 10.9416 16.9611 11.4572 16.7985C12.0436 16.6137 12.6676 16.3635 13.1165 15.9647C14.0074 15.1725 14.8801 14.8265 15.9906 15.4796C16.1003 15.545 16.4172 15.4213 16.527 15.2906C16.7396 15.0391 16.873 14.7208 17.0287 14.4484C16.6646 14.1205 16.3811 13.805 16.0406 13.5729C15.5917 13.2685 15.5333 12.9267 15.6056 12.3986C15.714 11.6078 15.7571 10.7795 15.6389 9.99428C15.5264 9.24659 15.6209 8.71709 16.2838 8.30433C16.5659 8.12922 16.7869 7.85822 17.0287 7.63725C16.7966 7.22866 16.5923 6.86871 16.3741 6.48514Z"
                  fill="#ACA3DD"/>
              <path
                  d="M9.82002 7.06793C12.0575 7.13325 13.842 8.96634 13.7697 11.1246C13.6961 13.3232 11.881 15.0757 9.73664 15.0229C7.55055 14.9673 5.73691 13.1106 5.81335 11.0065C5.89396 8.79401 7.71176 7.00678 9.82002 7.06793ZM9.77694 9.07891C8.65263 9.08864 7.81321 9.94195 7.82294 11.0649C7.83267 12.1878 8.68598 13.0272 9.81168 13.0175C10.936 13.0078 11.7754 12.1544 11.7657 11.0315C11.756 9.90721 10.9013 9.06918 9.77694 9.07891Z"
                  fill="#ACA3DD"/>
            </svg>
          </button>
          <button
              class="match-video__btn"
              style="margin-left: 16px"
              @click="fullScreen">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                  d="M0.0450071 5.96961C0.0450071 4.52699 -0.017485 3.09921 0.06725 1.68096C0.122328 0.771115 0.886002 0.0773471 1.80538 0.0360388C3.17702 -0.0253941 4.55185 0.020151 5.96587 0.020151C5.96587 0.671551 5.96587 1.29647 5.96587 1.97859C4.67683 1.97859 3.38039 1.97859 2.02992 1.97859C2.02992 3.33011 2.02992 4.62762 2.02992 5.96961C1.33933 5.96961 0.701703 5.96961 0.0450071 5.96961Z"
                  fill="#ACA3DD"/>
              <path
                  d="M17.977 5.98635C17.2896 5.98635 16.6647 5.98635 15.9847 5.98635C15.9847 4.66237 15.9847 3.3638 15.9847 2.01334C14.6342 2.01334 13.3378 2.01334 12.0095 2.01334C12.0095 1.33334 12.0095 0.70736 12.0095 0.0061779C12.7065 0.0061779 13.3875 0.0061779 14.0697 0.0061779C14.7052 0.0061779 15.3407 -0.0107691 15.9751 0.0114738C17.0883 0.0506638 17.9315 0.841877 17.9664 1.95085C18.0088 3.27271 17.977 4.5967 17.977 5.98635Z"
                  fill="#ACA3DD"/>
              <path
                  d="M5.98277 15.9675C5.98277 16.674 5.98277 17.2873 5.98277 17.9567C5.83448 17.9704 5.68408 17.9948 5.53368 17.9948C4.42153 17.998 3.31044 18.0033 2.19829 17.9948C0.849949 17.9842 0.0121315 17.1549 0.00365798 15.8171C-0.00481552 14.6171 0.00365798 13.4159 0.00683554 12.2148C0.00683554 12.165 0.0290785 12.1142 0.0502622 12.0273C0.672005 12.0273 1.29587 12.0273 1.97798 12.0273C1.97798 13.3217 1.97798 14.6181 1.97798 15.9675C3.33057 15.9675 4.62701 15.9675 5.98277 15.9675Z"
                  fill="#ACA3DD"/>
              <path
                  d="M12.0201 16.0086C13.3229 16.0086 14.6066 16.0086 15.9645 16.0086C15.9645 14.6655 15.9645 13.3553 15.9645 12.0176C16.6636 12.0176 17.2896 12.0176 17.9399 12.0176C17.9399 13.4687 18.0045 14.8954 17.9166 16.3126C17.8594 17.2457 17.0809 17.93 16.1308 17.9692C14.7772 18.0253 13.4182 17.9829 12.019 17.9829C12.0201 17.3368 12.0201 16.7108 12.0201 16.0086Z"
                  fill="#ACA3DD"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import DefaultLeftMenu from "@/components/Broadcast/DefaultLeftMenu";
import CommentsLeftMenu from "@/components/Broadcast/CommentsLeftMenu";
import GameMomentsLeftMenu from "@/components/Broadcast/GameMomentsLeftMenu";
import NeuralAnalysisLeftMenu from "@/components/Broadcast/NeuralAnalysisLeftMenu";
import PencilLeftMenu from "@/components/Broadcast/PencilLeftMenu";
import CutVdeoLeftMenu from "@/components/Broadcast/CutVdeoLeftMenu";
import MusicLeftMenu from "@/components/Broadcast/MusicLeftMenu";

export default {
  name: 'MatchVideo',
  components: {
    DefaultLeftMenu,
    CommentsLeftMenu,
    GameMomentsLeftMenu,
    NeuralAnalysisLeftMenu,
    PencilLeftMenu,
    CutVdeoLeftMenu,
    MusicLeftMenu
  },
  props: {
    menu: Boolean,
    editor: {
      type: Boolean,
      default: false
    },
    tabActive: Number
  },
  data() {
    return {
      play: false,
      volume: 0,
      progress: 0,
      timer: '00:00:00 / 00:00:00',
      videoFullScreen: false,
      openFullScreenMenu: false
    }
  },
  mounted() {
    this.videoVolume()
  },
  methods: {
    playVideo() {
      this.play = true
      this.$refs.video.play()
    },
    toggleVideo() {
      this.play = !this.play;
      if (this.play === false) {
        this.$refs.video.pause()
      } else {
        this.$refs.video.play()
      }
    },
    pauseVideo() {
      this.play = false
      this.$refs.video.pause()
    },
    currentTime() {
      if (this.$refs.video.currentTime === this.$refs.video.duration) this.pauseVideo()
      this.progress = this.$refs.video.currentTime / this.$refs.video.duration * 100

      let curmins = Math.floor(this.$refs.video.currentTime / 60);
      let cursecs = Math.floor(this.$refs.video.currentTime - curmins * 60);
      let durmins = Math.floor(this.$refs.video.duration / 60);
      let dursecs = Math.floor(this.$refs.video.duration - durmins * 60);

      if (cursecs < 10) {
        cursecs = "0" + cursecs;
      }
      if (dursecs < 10) {
        dursecs = "0" + dursecs;
      }
      if (curmins < 10) {
        curmins = "0" + curmins;
      }
      if (durmins < 10) {
        durmins = "0" + durmins;
      }

      this.timer = `${curmins} : ${cursecs} / ${durmins} : ${dursecs}`

      console.log(this.timer)
    },
    rewindVideo(e) {
      this.progress = e.offsetX / e.target.offsetWidth * 100
      this.$refs.video.pause()
      this.$refs.video.currentTime = e.offsetX / e.target.offsetWidth * this.$refs.video.duration
      this.$refs.video.play()
      this.play = true
    },
    videoVolume() {
      this.$refs.video.volume = this.volume / 100
    },
    fullScreen() {
      this.videoFullScreen = !this.videoFullScreen
      // this.$refs.video.requestFullscreen();
    }
  }
}
</script>

<style scoped lang="scss">
.match-video {
  position: relative;
  width: 100%;
  max-height: 780px;
  background-color: $blue01;
  overflow: hidden;
  user-select: none;
  transition: .3s;

  &_full-screen {
    position: fixed;
    top: 0;
    left: 0;
    margin-top: 0 !important;
    min-width: 100%;
    min-height: 100%;
    max-height: 100%;
    border-radius: 0 !important;
    z-index: 100;
  }

  &__fullscreen-menu {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
  }

  &__fullscreen-menu-wrapper {
    width: 384px;
    height: 100%;
    padding: 48px 32px;
    margin-left: -384px;
    background: rgba(255, 255, 255, 0.54);
    box-shadow: 0px 6px 8px rgba(110, 101, 174, 0.1);
    backdrop-filter: blur(10px);
    transition: .3s;

    &_open {
      margin-left: 0;
    }
  }

  &__fullscreen-menu-btn {
    position: absolute;
    top: 45%;
    left: 64px;
    transform: translateX(-45%);
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0px 6px 8px rgba(110, 101, 174, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 8px;
    z-index: 9;

    svg {
      transition: .3s;
    }

    &_active {
      left: 425px;

      svg {
        transform: rotate(180deg);
      }
    }
  }

  &__video {
    display: block;
    width: 100%;
    max-height: 780px;
  }

  &_full-screen &__video {
    max-height: 100%;
  }

  &__menu {
    position: absolute;
    top: 40%;
    right: 32px;
    transform: translate(0, -40%);
    padding: 18px 6px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0px 6px 8px rgba(110, 101, 174, 0.1);
    backdrop-filter: blur(10px);
  }

  &__menu-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;

    &:not(:first-child) {
      margin-top: 23px;
    }

    &:hover {
      background: rgba(42, 186, 243, 0.2);
      backdrop-filter: blur(4px);
    }

    svg {
      width: 18px;
    }

    &_active {
      background-color: #2ABAF3;

      &:hover {
        background-color: #2ABAF3;
      }
    }
  }

  &__control {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 0 31px 19px 31px;
    transition: .3s;
  }

  &__control-min {
    left: 384px;
    width: calc(100% - 384px);
  }

  &__progress {
    width: 100%;
    height: 4px;
    border-radius: 15px;
    background: #7b82a2;
    cursor: pointer;
    transition: .2s;

    &:hover {
      height: 6px;
    }
  }

  &__progress:hover &__progress-line {
    height: 6px;
  }

  &__progress-line {
    width: 30%;
    height: 4px;
    border-radius: 15px;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    background-color: $blue02;
    transition: .2s;
  }

  &__progress-dot {
    min-width: 14px;
    min-height: 14px;
    margin-right: -2px;
    border-radius: 100%;
    background-color: #fff;
    border: 3px solid #6E65AE;
  }

  &__control-options {
    width: 100%;
    margin-top: 13px;
    display: flex;
    justify-content: space-between;
  }

  &__control-content {
    display: flex;
    align-items: center;
  }

  &__btn {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #fff;
    box-shadow: 0px 6px 8px rgba(137, 155, 201, 0.15);
    cursor: pointer;


    svg {
      path {
        fill: #ACA3DD;
      }

      rect {
        fill: #ACA3DD;
      }
    }

    &_active {
      background-color: $blue02;

      svg {
        path {
          fill: #fff;
        }

        rect {
          fill: #fff;
        }
      }
    }

    &_play {
      background-color: $blue02;

      svg {
        path {
          fill: #fff;
        }

        rect {
          fill: #fff;
        }
      }
    }
  }

  &__time {
    margin-left: 28px;
    color: $blue02;
    font-size: 16px;
  }

  &__volume {
    margin-left: 28px;
    display: flex;
    align-items: center;
  }

  &__volume-icon {
    width: 19px;
  }

  &__volume-range {
    width: 100px;
    margin-left: 7px;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

    &::-webkit-slider-runnable-track {
      height: 4px;
      border-radius: 50px;
      background-color: #7b82a2;
    }

    &::-webkit-slider-thumb {
      width: 10px;
      height: 10px;
      background-color: #fff;
      border: 2px solid #464EA3;
      border-radius: 100%;
      cursor: pointer;
      -webkit-appearance: none;
      margin-top: -3px;
    }

    &::-moz-range-track {
      border-radius: 50px;
      height: 4px;
      background-color: #5e6383;
    }

    &::-moz-range-thumb {
      width: 10px;
      height: 10px;
      background-color: #fff;
      border: 2px solid #464EA3;
      border-radius: 100%;
      cursor: pointer;
      margin-top: -3px;
    }
  }
}
</style>

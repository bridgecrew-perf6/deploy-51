<template>
  <div
    @click="handleOnClick($event)"
    :class="`event-icon event-icon-type--${eventType.slug}`"
    :style="`background-color: ${eventType.color}`"
  >
    <span class="event-icon__group-name">{{ event.group.name }}</span>
  </div>
</template>

<script>
import { mapActions, mapGetters } from 'vuex'

export default {
  props: {
    event: {
      type: Object,
    },
  },
  methods: {
    handleOnClick: function () {
      this.$emit('click')
    },
  },
  computed: {
    ...mapGetters('events', ['getEventsTypeCategory']),
    eventType: function () {
      let type = this.getEventsTypeCategory.find(cat =>
        cat.eventTypes.some(subcat => subcat.id === this.event.eventType.id)
      )

      return type
    },
  },
}
</script>

<style lang="sass" scoped>
.event-icon
  position: relative
  display: inline-block
  max-width: 30px
  //width: calc((100% - (5px * 2)) / 3)
  width: 30px
  height: 30px
  margin-right: 5px
  padding-left: 3px
  border-radius: 6px
  z-index: 1

  &:nth-child(1),
  &:nth-child(6)
    margin-right: 0px

  &:nth-child(4),
  &:nth-child(5),
  &:nth-child(6)
    margin-top: 5px

  &::after
    content: ''
    position: absolute
    top: 0px
    left: 0px
    width: 32px
    height: 32px
    background-color: inherit
    opacity: 0.6
    border-radius: 6px
    z-index: -1

  &::before
    content: ''
    position: absolute
    bottom: 2px
    right: 4px
    width: 11px
    height: 11px
    background-repeat: no-repeat
    background-size: auto
    background-position: bottom 0 right 0

  &.event--full-icon
    &::before
      width: 16px
      height: 16px

.event-icon__group-name
  display: flex
  margin-top: 2px
  font-weight: bold
  font-size: 10px
  line-height: 14px
  color: #FFFFFF


.event-icon-type
  &--matches-and-competitions
    &::before
      background-image: url("data:image/svg+xml,%3Csvg width='100%' height='auto' viewBox='0 0 12 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.676.473v-.47h3.796v2.612l.037.014c.212-.249.424-.497.653-.762.223.258.438.51.68.795V0h1.615v.463c.071.004.136.014.201.014h1.929c.321 0 .393.074.386.386-.055 2.25-1.593 4.378-3.785 5.22a.797.797 0 0 0-.39.299c-.287.4-.632.745-1.097.957-.048.02-.09.107-.09.168-.006.523-.003 1.05-.003 1.574v.215h-1.08v-.171c0-.537-.003-1.071.003-1.608 0-.104-.03-.155-.13-.202-.471-.218-.806-.587-1.11-.99a.648.648 0 0 0-.27-.205C1.886 5.224.593 3.676.21 1.42.177 1.22.174 1.01.167.802.157.571.249.477.492.473.919.47 1.346.473 1.77.47c.298.003.599.003.906.003Zm-1.925.53C.673 2.559 2.372 5.044 3.74 5.386c-.004-.017-.004-.034-.01-.047-.606-1.343-.883-2.76-.999-4.213-.01-.121-.065-.131-.164-.131-.564.003-1.125 0-1.689 0-.041 0-.079.006-.127.01Zm7.69 4.379c1.457-.517 3.112-2.961 2.937-4.375-.024-.003-.051-.013-.078-.013-.585 0-1.173 0-1.758-.004-.126 0-.123.07-.137.162-.116.758-.198 1.527-.366 2.276-.15.664-.396 1.309-.598 1.954ZM3.083 11.075h5.973v3.444H3.083v-3.444Zm1.08 2.39h3.813V12.13H4.163v1.336ZM9.6 16H2.536v-1.034H9.6V16ZM7.966 9.739v.896H4.174V9.74h3.792Z' fill='%23fff'/%3E%3C/svg%3E")

  &--training
    &::before
      background-image: url("data:image/svg+xml,%3Csvg width='100%' height='auto' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14 3.646c-.03.163-.13.283-.24.396-.127.128-.256.255-.387.38a.673.673 0 0 1-.422.168.326.326 0 0 1-.261-.089c-.214-.202-.433-.4-.641-.61-.725-.724-1.446-1.454-2.169-2.181-.06-.062-.113-.129-.173-.19a.325.325 0 0 1-.088-.269.59.59 0 0 1 .151-.39c.157-.166.313-.333.477-.492a.52.52 0 0 1 .709-.041c.541.522 1.08 1.045 1.614 1.574.394.39.779.79 1.169 1.183.111.113.224.226.261.39v.171ZM0 12.867c.07-.103.131-.214.213-.307.147-.167.308-.323.458-.477l1.269 1.268c-.13.127-.267.264-.407.4l-.132.12a.444.444 0 0 1-.502.085 1.103 1.103 0 0 1-.285-.174 4.97 4.97 0 0 1-.357-.339.916.916 0 0 1-.257-.435v-.141ZM14 1.19a.803.803 0 0 1-.213.314c-.147.149-.296.296-.44.44L12.088.686c.009-.01.022-.027.038-.041.185-.177.367-.361.558-.53.16-.14.334-.152.513-.035.29.19.53.434.72.723.039.06.056.135.083.202v.185ZM2.107 6.952a.64.64 0 0 1 .464.173c.365.355.738.702 1.098 1.063 1.102 1.108 2.201 2.22 3.302 3.33l.148.155c.178.193.202.569.022.76-.298.32-.612.625-.925.93-.103.1-.237.1-.37.069a.664.664 0 0 1-.307-.16c-.318-.301-.64-.6-.95-.91-1.15-1.152-2.298-2.311-3.445-3.467a5.486 5.486 0 0 1-.274-.301c-.152-.176-.16-.491-.002-.657.286-.295.583-.58.876-.87.102-.098.227-.115.363-.115ZM12.114 7.258a.652.652 0 0 1-.498-.19c-.905-.9-1.818-1.79-2.722-2.69-.578-.574-1.144-1.164-1.718-1.742-.178-.178-.263-.384-.218-.632a.532.532 0 0 1 .099-.231c.273-.33.576-.634.9-.915.159-.137.473-.129.636.021.295.273.59.547.875.83 1.172 1.167 2.34 2.337 3.508 3.508.107.107.21.22.308.336.119.142.189.304.159.493a.342.342 0 0 1-.073.165c-.293.34-.609.655-.949.947a.409.409 0 0 1-.307.1ZM8.286 4.506l1.239 1.237-3.775 3.77-1.238-1.237 3.774-3.77ZM4.59 12.884c-.011.2-.05.358-.169.48-.165.169-.331.34-.51.497a.505.505 0 0 1-.72-.025c-.74-.73-1.477-1.462-2.212-2.196a22.799 22.799 0 0 1-.658-.685c-.137-.148-.158-.324-.082-.51a.451.451 0 0 1 .054-.1c.176-.245.383-.459.633-.63a.528.528 0 0 1 .421-.087c.06.013.126.039.169.08.558.54 1.117 1.082 1.67 1.63.407.404.804.818 1.204 1.227.046.047.087.1.13.152.05.057.076.124.07.167Z' fill='%23fff'/%3E%3C/svg%3E")

  &--team-events
    &::before
      background-image: url("data:image/svg+xml,%3Csvg width='14' height='15' viewBox='0 0 14 15' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7.928 0c.376.078.753.163 1.136.24.22.046.41.118.455.391.013.078.162.143.266.182.85.332 1.708.658 2.578.99-.04.15-.059.227-.085.305-.078.235-.149.482-.253.703-.805 1.731-.974 3.586-.98 5.454-.007 2.082.032 4.158.052 6.24V15H3.674c0-.469-.013-.93 0-1.386.097-2.83.097-5.662-.227-8.473-.052-.475-.273-.93-.429-1.393-.208-.624-.435-1.243-.675-1.945.87-.332 1.714-.658 2.558-.977.163-.058.306-.097.351-.318.026-.105.208-.215.338-.248.409-.097.824-.175 1.234-.26h1.104Zm-4.02 11.16h6.929c0-.338-.02-.65.006-.963.02-.28-.084-.345-.344-.345-2.084.007-4.175 0-6.26-.006h-.325c-.006.462-.006.885-.006 1.315Zm6.948 1.016H3.882v1.282h6.974v-1.282ZM7.363 3.247c.792-.5 1.337-1.158 1.513-2.095.045-.26 0-.397-.28-.469a4.952 4.952 0 0 0-2.467 0c-.26.065-.331.189-.286.436.162.957.72 1.62 1.52 2.128Zm-4.806-1.34c.208.585.383 1.086.546 1.555.915-.384 1.785-.755 2.63-1.113-.182-.462-.37-.943-.578-1.49-.851.345-1.708.69-2.598 1.048ZM9.57.859c-.22.553-.409 1.041-.584 1.49l2.636 1.107c.17-.489.345-.99.546-1.55-.883-.357-1.74-.702-2.598-1.047ZM6.044 6.683c-.006.15-.006.306-.006.456 0 .15-.007.306.006.455.033.45.273.677.702.69.441.013.727-.195.753-.625.032-.637.032-1.275 0-1.913-.026-.43-.318-.638-.753-.625-.422.013-.676.254-.695.697-.02.28-.007.572-.007.865ZM8.181 8.22h.48V5.063c-.169.104-.272.163-.37.234-.097.065-.175.189-.273.202-.246.039-.227.176-.181.351.116.02.22.033.344.052V8.22Z' fill='%23fff'/%3E%3Cpath d='M13.733 14.792h-1.864c-.006-.085-.02-.176-.02-.273.02-3.15-.084-6.287-.383-9.423a.863.863 0 0 1 .033-.287c.318-.924.643-1.841.968-2.759.012-.039.038-.071.11-.202.247.567.493 1.042.662 1.55.585 1.704.747 3.474.728 5.257-.026 2.005-.137 4.009-.208 6.013a.38.38 0 0 1-.026.124Zm.039-3.937h-1.76v.813h1.76v-.813Zm-.072 1.464h-1.668v.8H13.7v-.8ZM2.187 1.848c.37 1.068.753 2.037 1.039 3.033.104.37-.033.813-.052 1.223-.104 2.76-.202 5.525-.299 8.285-.006.13 0 .26 0 .41H.979L.88 13.21C.751 10.979.628 8.753.85 6.52c.13-1.321.357-2.623.909-3.84.117-.26.26-.5.429-.833Zm-1.228 9.82h1.773v-.813H.96v.813Zm.026.645c.02.292.04.546.059.806H2.7v-.806H.985ZM7.025 6.735c0 .267.02.54-.013.807-.013.104-.15.189-.228.287-.078-.091-.22-.183-.227-.28a25.26 25.26 0 0 1 0-1.718c0-.091.136-.182.208-.267.084.085.234.17.247.267.026.3.006.598.013.904 0 0-.007 0 0 0Z' fill='%23fff'/%3E%3C/svg%3E")

  &--normative
    &::before
      background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 14.914c0-.34-.004-.615 0-.885.004-.231.134-.37.335-.388.236-.022.401.122.406.353.004.296 0 .593 0 .92.798-.044 1.517-.258 2.24-.584-.143-.245-.282-.476-.411-.707-.138-.244-.103-.431.098-.544.214-.123.415-.057.553.178l.375.641c.009.013.022.018.054.044a5.798 5.798 0 0 0 1.592-1.552c-.24-.14-.477-.275-.709-.414-.24-.14-.308-.336-.187-.545.107-.192.312-.231.557-.092.237.131.469.27.719.419a5.96 5.96 0 0 0 .629-2.267c-.26 0-.509.004-.759 0-.093 0-.2 0-.285-.035-.17-.07-.241-.214-.21-.392.031-.179.138-.297.326-.301.294-.013.593-.004.914-.004a5.204 5.204 0 0 0-.62-2.276c-.227.135-.442.257-.656.384-.294.17-.504.148-.633-.079-.116-.196-.031-.388.24-.549l.67-.392a5.747 5.747 0 0 0-1.615-1.565c-.138.235-.268.453-.393.671-.147.253-.361.331-.566.21-.188-.11-.223-.336-.085-.576.125-.222.259-.44.397-.676-.696-.362-1.428-.545-2.23-.601v.815c0 .283-.121.423-.358.427-.24.009-.388-.148-.388-.427-.004-.262 0-.523 0-.833-.352.057-.683.114-1.017.17-.09.013-.174.04-.263.04a.565.565 0 0 1-.554-.476.549.549 0 0 1 .37-.606c.21-.065.433-.13.652-.14.24-.012.29-.117.259-.313-.005-.035-.005-.07-.01-.14H7.18c-.535-.004-.928-.37-.937-.876C6.233.424 6.6.02 7.134.01a79.564 79.564 0 0 1 2.499 0c.53.009.91.431.892.95-.018.493-.428.872-.95.872h-.232v.423a7.114 7.114 0 0 1 3.72 1.67c.121-.123.242-.236.353-.35-.214-.418-.187-.575.143-.902.13-.13.259-.261.393-.388.254-.23.562-.23.816.005.174.16.34.327.504.492.223.227.237.532.023.763a7.946 7.946 0 0 1-.553.536c-.22.192-.433.192-.777.009l-.383.349.182.218c2.945 3.395 1.848 8.618-2.226 10.605-1.553.759-3.172.912-4.859.554-.258-.057-.46-.179-.526-.44-.107-.423.277-.767.723-.671.357.074.714.13 1.124.209ZM8.562 1.09h.263c.246 0 .491.013.737-.009.07-.004.133-.104.2-.157C9.7.865 9.642.8 9.57.747c-.022-.018-.07-.01-.107-.01H7.3c-.139 0-.3.005-.295.184.005.183.17.17.303.17h.897v1.077h.357V1.09Zm6.046 2.08a6.89 6.89 0 0 0-.215-.223c-.098.074-.187.135-.285.205l.25.23c.093-.082.165-.143.25-.213Z' fill='%23fff'/%3E%3Cpath d='M7.032 8.855c0-.406.178-.72.54-.911 1.15-.602 2.306-1.195 3.462-1.788.2-.104.392-.078.5.074.12.17.111.345-.027.502-.848.959-1.696 1.922-2.552 2.872-.286.319-.84.432-1.205.284a1.113 1.113 0 0 1-.718-1.033ZM9.552 7.8l-.017-.03c-.036.012-.076.025-.112.043-.468.24-.932.48-1.4.715-.14.07-.264.157-.215.31.036.117.13.265.237.3.102.035.298-.004.374-.087.393-.401.759-.828 1.134-1.251ZM2.891 9.63h2.45c.343 0 .544.284.393.55-.09.156-.241.196-.415.196-1.455-.005-2.91-.005-4.364-.005-.178 0-.357.005-.535 0-.255-.004-.429-.165-.42-.383.01-.21.174-.358.42-.362.825 0 1.65.004 2.471.004ZM3.427 7.822h1.896c.29 0 .46.13.464.357.005.227-.17.37-.45.37H1.544c-.214 0-.383-.052-.441-.274-.067-.253.107-.453.388-.453.642-.005 1.29 0 1.936 0ZM3.44 11.453h1.874c.303 0 .477.14.473.37-.005.227-.174.362-.46.362H1.535c-.299 0-.464-.148-.446-.392.018-.21.16-.336.41-.336.647-.004 1.294-.004 1.941-.004ZM3.99 13.266h1.333c.286 0 .455.135.464.361.005.227-.165.371-.45.371-.915 0-1.825.004-2.74 0-.25 0-.397-.105-.424-.296-.04-.258.112-.432.393-.432.473-.004.946 0 1.423-.004 0 .004 0 0 0 0ZM3.962 6.004h1.379c.272 0 .437.135.442.353.004.227-.17.375-.447.375-.914 0-1.824 0-2.74-.005-.298 0-.436-.126-.432-.374.005-.231.152-.353.437-.353.455 0 .91.004 1.361.004ZM4.52 4.922c-.29 0-.58.005-.87 0-.25-.004-.406-.148-.406-.366s.152-.37.402-.37c.58-.005 1.16-.005 1.74 0 .236 0 .41.17.401.379-.004.2-.17.357-.397.362-.29 0-.58-.005-.87-.005Z' fill='%23fff'/%3E%3C/svg%3E")

  &--sports-school-activities
    &::before
      background-image: url("data:image/svg+xml,%3Csvg width='16' height='15' viewBox='0 0 16 15' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.033 15H1.238c-.146-.042-.307-.068-.443-.13C.236 14.617 0 14.19 0 13.632c.004-3.897 0-7.79.004-11.687 0-.084 0-.165.01-.249.065-.59.609-1.072 1.26-1.11C1.5.572 1.725.58 1.947.58c-.007-.37.161-.571.462-.58.311-.01.487.187.497.564h1.826c-.018-.329.136-.542.426-.555a.69.69 0 0 1 .347.087c.183.104.208.281.183.465h1.829C7.506.217 7.674 0 7.979.007a.711.711 0 0 1 .34.11c.16.103.186.27.153.445h1.826c.025-.384.193-.571.501-.562.3.01.458.2.469.559h1.825c-.003-.355.169-.565.473-.559.358.01.526.233.49.569.147 0 .29-.007.437 0 .147.006.294.006.433.038.684.162 1.07.633 1.07 1.295 0 3.425 0 6.854.004 10.28 0 .096-.036.16-.107.229-.913.82-1.822 1.643-2.735 2.463-.047.045-.086.087-.125.126ZM.766 2.296c-.004.051-.007.093-.007.135v11.236c0 .413.254.645.716.645 3.704.004 7.406 0 11.11 0 .183 0 .287-.093.287-.261 0-.336-.008-.675.007-1.01.018-.462.422-.834.934-.856.372-.016.748-.007 1.12-.01.219 0 .312-.084.312-.28V2.447c0-.052-.004-.104-.007-.152H.766Z' fill='%23fff'/%3E%3Cpath d='M9.183 12c-.532-.331-1.063-.665-1.603-1.003-.2.261-.472.424-.847.424a1 1 0 0 1-.695-.258c-.406-.361-.369-.917.096-1.305C4.952 8.836 3.881 7.73 3 6.462c.182.01.342.023.502.023.703-.006 1.342-.215 1.96-.49.806-.36 1.535-.827 2.256-1.31.424-.285.87-.53 1.402-.633 1.717-.337 3.216 1.007 2.814 2.533-.111.423-.342.79-.632 1.132-.569.675-1.137 1.357-1.561 2.118-.313.56-.55 1.139-.543 1.778 0 .119.015.238.026.357a.09.09 0 0 0-.041.03Zm-4.48-5.19c.04.01.1.03.156.036 1.011.12 1.948-.07 2.721-.672A8.985 8.985 0 0 1 9.458 5.05c.104-.047.208-.103.301-.166.12-.08.108-.182-.03-.228a.852.852 0 0 0-.342-.04c-.357.033-.676.176-.985.331-.487.248-.885.596-1.297.927a3.8 3.8 0 0 1-1.372.712c-.342.092-.692.152-1.03.225Z' fill='%23fff'/%3E%3C/svg%3E");

  &--personal-event,
  &--reminder
    &::before
      background-image: url("data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m14 2.802-.042.168c-.054.231-.21.394-.371.554-.3.298-.598.597-.898.897a.906.906 0 0 1-.04.038L9.531 1.343c.076-.073.158-.147.237-.225.274-.27.545-.544.819-.815.351-.347.872-.402 1.257-.134.06.041.115.091.167.143.557.555 1.11 1.112 1.67 1.666a.992.992 0 0 1 .307.595c.001.006.007.012.012.018-.002.07-.002.141-.002.211ZM0 13.984c.076-.202.154-.404.228-.607.102-.274.201-.549.303-.824.006-.017.014-.032.018-.045l.948.948c-.152.057-.307.116-.464.172-.344.125-.69.248-1.033.371v-.015ZM1.892 8.988l7.3-7.3c1.038 1.04 2.08 2.08 3.117 3.118l-7.302 7.298c-1.03-1.031-2.073-2.072-3.115-3.116Zm7.996-5.19-5.89 5.889.312.313 5.89-5.888-.312-.313Zm-.7-.688L3.305 8.99l.332.327 5.88-5.881-.329-.327Zm-4.182 7.58 5.885-5.882c-.105-.107-.216-.217-.314-.315l-5.882 5.881.311.317ZM1.631 9.417l2.958 2.956c-.137.049-.273.098-.412.146-.704.25-1.41.5-2.115.752-.044.015-.073.01-.107-.023-.4-.403-.802-.803-1.205-1.205-.027-.027-.04-.049-.024-.091.294-.822.584-1.643.876-2.466l.03-.069Z' fill='%23fff'/%3E%3C/svg%3E");

  &--over
    background-color: #C4C4C4

    &::before
      background-image: url("data:image/svg+xml,%3Csvg width='18' height='4' viewBox='0 0 18 4' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='2' cy='2' r='2' fill='%23fff'/%3E%3Ccircle cx='9' cy='2' r='2' fill='%23fff'/%3E%3Ccircle cx='16' cy='2' r='2' fill='%23fff'/%3E%3C/svg%3E")
</style>

<template>
  <div>
    <div class="hockey-field">
      <div class="hockey-field__filed">
        <svg width="454" height="292" viewBox="0 0 454 292" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
              d="M6.31445 1.54102H448.669V212C448.669 255.355 413.523 290.5 370.169 290.5H84.8144C41.4601 290.5 6.31445 255.355 6.31445 212V1.54102Z"
              stroke="#B6EAFF" stroke-opacity="0.2" stroke-width="3"/>
          <mask id="mask0_1837_15245" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="4" y="0" width="447"
                height="292">
            <path
                d="M4.81445 0.0410156H450.169V212C450.169 256.183 414.352 292 370.169 292H84.8144C40.6316 292 4.81445 256.183 4.81445 212V0.0410156Z"
                fill="white"/>
            <path
                d="M6.31445 1.54102H448.669V212C448.669 255.355 413.523 290.5 370.169 290.5H84.8144C41.4601 290.5 6.31445 255.355 6.31445 212V1.54102Z"
                stroke="#B6EAFF" stroke-opacity="0.2" stroke-width="3"/>
          </mask>
          <g mask="url(#mask0_1837_15245)">
            <path
                d="M164.307 5.05867C166.339 36.9719 192.964 62.2617 225.889 62.2617C258.611 62.2617 285.439 36.972 287.471 5.05869L287.674 5.05869C287.674 3.45299 287.471 1.64658 287.268 0.0408783L282.187 0.0408778C281.374 1.64658 280.561 3.05156 281.374 5.05868L282.593 5.05868C280.561 34.3627 255.969 57.6453 225.686 57.6453C195.606 57.6453 170.811 34.3627 168.778 5.05867L169.795 5.05868C170.607 2.65013 167.965 1.84728 167.356 0.0408678L164.714 0.0408676C164.104 1.64657 163.697 3.45298 163.697 5.05867L164.307 5.05867Z"
                fill="#B6EAFF" fill-opacity="0.2"/>
            <path
                d="M39.7705 197.833C39.7705 198.64 40.5827 199.446 41.395 199.446H51.1422C53.782 222.23 73.2764 239.972 96.8321 239.972C120.388 239.972 139.882 222.23 142.522 199.446H154.909C155.721 199.446 156.534 198.64 156.534 197.833C156.534 197.027 155.721 196.22 154.909 196.22H142.725C142.725 195.414 142.928 194.809 142.928 194.003C142.928 192.994 142.928 192.188 142.725 191.18H154.909C155.721 191.18 156.534 190.373 156.534 189.567C156.534 188.76 155.721 187.954 154.909 187.954H142.522C139.476 165.574 120.185 148.234 96.8321 148.234C73.4795 148.234 54.1882 165.574 51.1422 187.954H41.1919C40.3797 187.954 39.5674 188.76 39.5674 189.567C39.5674 190.373 40.3797 191.18 41.1919 191.18H50.736C50.736 192.188 50.533 192.994 50.533 194.003C50.533 194.809 50.533 195.414 50.736 196.22H41.1919C40.3797 196.422 39.7705 197.027 39.7705 197.833ZM96.8321 151.864C120.388 151.864 139.476 170.816 139.476 194.204C139.476 217.592 120.388 236.545 96.8321 236.545C73.2764 236.545 54.1882 217.592 54.1882 194.204C54.3912 170.816 73.4795 151.864 96.8321 151.864Z"
                fill="#FFAEC1" fill-opacity="0.2"/>
            <path
                d="M296.04 197.833C296.04 198.64 296.853 199.446 297.665 199.446H307.412C310.052 222.23 329.546 239.972 353.102 239.972C376.658 239.972 396.152 222.23 398.792 199.446H411.179C411.991 199.446 412.804 198.64 412.804 197.833C412.804 197.027 411.991 196.22 411.179 196.22H398.995C398.995 195.414 399.198 194.809 399.198 194.003C399.198 192.994 399.198 192.188 398.995 191.18H411.179C411.991 191.18 412.804 190.373 412.804 189.567C412.804 188.76 411.991 187.954 411.179 187.954H398.589C395.543 165.574 376.252 148.234 352.899 148.234C329.546 148.234 310.255 165.574 307.209 187.954H297.259C296.447 187.954 295.634 188.76 295.634 189.567C295.634 190.373 296.447 191.18 297.259 191.18H306.803C306.803 192.188 306.6 192.994 306.6 194.003C306.6 194.809 306.6 195.414 306.803 196.22H297.259C296.65 196.422 296.04 197.027 296.04 197.833ZM353.102 151.864C376.658 151.864 395.746 170.816 395.746 194.204C395.746 217.592 376.658 236.545 353.102 236.545C329.546 236.545 310.458 217.592 310.458 194.204C310.661 170.816 329.749 151.864 353.102 151.864Z"
                fill="#FFAEC1" fill-opacity="0.2"/>
            <path
                d="M96.8331 199.041C99.4729 199.041 101.707 196.823 101.707 194.202C101.707 191.581 99.4729 189.363 96.8331 189.363C94.1932 189.363 91.9595 191.581 91.9595 194.202C91.9595 196.823 94.1932 199.041 96.8331 199.041Z"
                fill="#FFAEC1" fill-opacity="0.2"/>
            <path
                d="M353.102 199.041C355.741 199.041 357.975 196.823 357.975 194.202C357.975 191.581 355.741 189.363 353.102 189.363C350.462 189.363 348.228 191.581 348.228 194.202C348.228 196.823 350.462 199.041 353.102 199.041Z"
                fill="#FFAEC1" fill-opacity="0.2"/>
          </g>
          <path
              d="M219.238 2.43359C219.066 2.76863 219.066 3.27118 219.066 3.77374C219.066 7.62664 222.333 10.8095 226.288 10.8095C230.243 10.8095 233.51 7.62664 233.51 3.77374C233.51 3.27118 233.51 2.93615 233.338 2.43359H219.238V2.43359Z"
              fill="#FF4B6B"/>
          <rect y="0.0410156" width="453.78" height="4.78622" rx="2.39311" fill="#FF4B6B"/>
          <rect x="21.6665" y="120.893" width="410.448" height="4.78622" rx="2.39311" fill="#B6EAFF"
                fill-opacity="0.2"/>
          <path
              d="M389.986 264.48H287.675V264.361H287.073C285.027 233.011 259.028 208.242 226.649 208.242C194.512 208.242 168.272 233.011 166.226 264.361H166.105V264.48H63.794C62.47 264.48 61.3867 265.557 61.3867 266.873C61.3867 268.19 62.47 269.266 63.794 269.266H166.466H171.401H284.064H286.712H389.986C391.31 269.266 392.393 268.19 392.393 266.873C392.393 265.557 391.31 264.48 389.986 264.48ZM172.244 264.361H171.04C173.086 235.643 197.16 212.789 226.89 212.789C256.38 212.789 280.694 235.643 282.74 264.361H281.657V264.48H172.364L172.244 264.361Z"
              fill="#B6EAFF" fill-opacity="0.2"/>
          <g>
            <circle cx="225" cy="226" r="32" fill="white" fill-opacity="0.2"/>
            <circle cx="226" cy="226" r="20" fill="white" fill-opacity="0.2"/>
            <circle cx="226" cy="226" r="4" fill="white"/>
          </g>

          <g>
            <circle cx="91" cy="57" r="32" fill="white" fill-opacity="0.2"/>
            <circle cx="91" cy="57" r="20" fill="white" fill-opacity="0.2"/>
            <circle cx="91" cy="57" r="4" fill="white"/>
          </g>

          <g>
            <circle cx="225" cy="57" r="32" fill="white" fill-opacity="0.2"/>
            <circle cx="225" cy="57" r="20" fill="white" fill-opacity="0.2"/>
            <circle cx="225" cy="57" r="4" fill="white"/>
          </g>

          <g>
            <circle cx="292" cy="150" r="32" fill="white" fill-opacity="0.2"/>
            <circle cx="292" cy="150" r="20" fill="white" fill-opacity="0.2"/>
            <circle cx="292" cy="150" r="4" fill="white"/>
          </g>

          <g>
            <circle cx="158" cy="150" r="32" fill="white" fill-opacity="0.2"/>
            <circle cx="158" cy="149" r="20" fill="white" fill-opacity="0.2"/>
            <circle cx="158" cy="149" r="4" fill="white"/>
          </g>

          <g>
            <circle cx="352" cy="57" r="32" fill="white" fill-opacity="0.2"/>
            <circle cx="352" cy="57" r="20" fill="white" fill-opacity="0.2"/>
            <circle cx="352" cy="57" r="4" fill="white"/>
          </g>
        </svg>
      </div>
      <div>
        <div
            class="hockey-field__player hockey-field__player_cover"
            v-for="(sportsman, index) in sportsmans.sportsmans"
            :key="'a' + index"
            v-show="sportsman.avatar"
            :class="`hockey-field__player_${index + 1}`"
            :style="{backgroundImage: `url(${sportsman.avatar})`}"
            @click="modalPlayer = true">
          <div class="hockey-field__player-count">{{ sportsman.team_number }}</div>
        </div>
        <div
            class="hockey-field__player"
            v-for="(sportsman, index) in sportsmans.sportsmans"
            :key="'b' + index"
            v-show="!sportsman.avatar"
            :class="`hockey-field__player_${index + 1}`"
            :style="{backgroundImage: `url(${require(`@/assets/images/positionTypes/${sportsman.position_type}.svg`)})`}"
            @click="modalPlayer = true">
          <div class="hockey-field__player-count">{{ sportsman.team_number }}</div>
        </div>
      </div>
    </div>
    <modal-player
        :visible="modalPlayer"
        @close="modalPlayer = false"/>
  </div>
</template>

<script>
import ModalPlayer from '@/components/modals/ModalPlayer.vue';

export default {
  components: {
    ModalPlayer
  },
  props: {
    sportsmans: Object
  },
  data() {
    return {
      modalPlayer: false
    }
  },
  watch: {
    sportsmans() {
      console.log(this.sportsmans)
    }
  }
}
</script>

<style scoped lang="scss">
.hockey-field {
  position: relative;
  width: 412px;
  margin: 0 auto;

  &__filed {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;

    svg {
      width: 100%;

      g {
        circle {
          cursor: pointer;

          &:last-child {
            fill: rgba(47, 35, 35, 0.0);
          }
        }

        &:hover circle {
          &:last-child {
            fill: #fff;
          }
        }
      }
    }
  }

  &__player {
    position: absolute;
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background-size: 24px;
    background-position: center;
    background-repeat: no-repeat;
    background-color: #0097D2;
    border: 2px solid #2ABAF3;
    z-index: 1;

    &_cover {
      background-size: cover;
    }

    &_1 {
      top: 33px;
      left: 52px;
    }

    &_2 {
      top: 33px;
      left: 174px;
    }

    &_3 {
      top: 33px;
      left: 284px;
    }

    &_4 {
      top: 117px;
      left: 110px;
    }

    &_5 {
      top: 117px;
      left: 230px;
    }

    &_6 {
      top: 188px;
      left: 170px;
    }
  }

  &__sportsman-avatar {
    &::v-deep {
      .v-responsive__content {
        border: 2px solid rgba(255, 255, 255, 0.5);
        border-radius: 50%;
      }
    }
  }

  &__sportsman-avatar_type {
    &::v-deep {
      .v-image__image.v-image__image--cover {
        background-size: auto;
        background-color: $blue02;
      }
    }
  }

  &__player-count {
    width: 28px;
    height: 22px;
    margin-left: 17px;
    margin-top: 55px;
    border-radius: 4px;
    border: 1px solid #B6EAFF;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #2ABAF3;
  }
}
</style>
